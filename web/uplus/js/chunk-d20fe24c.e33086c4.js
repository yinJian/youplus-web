(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d20fe24c"],{"0e02":function(t,e,a){"use strict";var n=a("154e"),i=a.n(n);i.a},"154e":function(t,e,a){},"1f49":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticStyle:{float:"left"}},[a("user-address",{ref:"AddAddress",attrs:{isDistrict:t.isDistrict},on:{countryChange:t.getArea}})],1),""==t.province?a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.addPro}},[t._v("添加省")]):t._e(),""!=t.province&&""==t.city?a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.addCity}},[t._v("添加市")]):t._e(),""!=t.city?a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.addCountry}},[t._v("添加区域")]):t._e()],1),a("el-table",{staticStyle:{"margin-top":"15px"},attrs:{data:t.tableList}},[a("el-table-column",{attrs:{prop:"id",align:"center",label:"id"}}),a("el-table-column",{attrs:{prop:"areaName",align:"center",label:"名称"}}),a("el-table-column",{attrs:{prop:"areaCode",align:"center",label:"地区编码"}}),a("el-table-column",{attrs:{prop:"cityCode",align:"center",label:"城市编码"}}),a("el-table-column",{attrs:{prop:"center",align:"center",label:"城市中心点"}}),a("el-table-column",{attrs:{prop:"level",align:"center",label:"地区级别"}}),a("el-table-column",{attrs:{prop:"parentId",align:"center",label:"地区父节点"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.editRow(e.row)}}},[t._v("编辑")])]}}])})],1),a("div",{staticClass:"demonstration-box"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageParams.size,layout:"total, prev, pager, next",total:t.pageParams.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),a("el-dialog",{attrs:{title:"添加",visible:t.modelDiv,width:"30%"},on:{"update:visible":function(e){t.modelDiv=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"地区编码"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.areaCode,callback:function(e){t.$set(t.addForm,"areaCode",e)},expression:"addForm.areaCode"}})],1),a("el-form-item",{attrs:{label:"地区名"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.areaName,callback:function(e){t.$set(t.addForm,"areaName",e)},expression:"addForm.areaName"}})],1),a("el-form-item",{attrs:{label:"地区级别"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.level,callback:function(e){t.$set(t.addForm,"level",e)},expression:"addForm.level"}})],1),a("el-form-item",{attrs:{label:"城市编码"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.cityCode,callback:function(e){t.$set(t.addForm,"cityCode",e)},expression:"addForm.cityCode"}})],1),a("el-form-item",{attrs:{label:"城市中心点"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.center,callback:function(e){t.$set(t.addForm,"center",e)},expression:"addForm.center"}})],1),a("el-form-item",{attrs:{label:"地区父节点"}},[a("el-input",{attrs:{type:"text"},model:{value:t.addForm.parentId,callback:function(e){t.$set(t.addForm,"parentId",e)},expression:"addForm.parentId"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modelDiv=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:t.modelDiv2,width:"30%"},on:{"update:visible":function(e){t.modelDiv2=e}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"地区编码"}},[a("el-input",{attrs:{type:"text"},model:{value:t.editForm.areaCode,callback:function(e){t.$set(t.editForm,"areaCode",e)},expression:"editForm.areaCode"}})],1),a("el-form-item",{attrs:{label:"地区名"}},[a("el-input",{attrs:{type:"text"},model:{value:t.editForm.areaName,callback:function(e){t.$set(t.editForm,"areaName",e)},expression:"editForm.areaName"}})],1),a("el-form-item",{attrs:{label:"地区级别"}},[a("el-input",{attrs:{type:"text"},model:{value:t.editForm.level,callback:function(e){t.$set(t.editForm,"level",e)},expression:"editForm.level"}})],1),a("el-form-item",{attrs:{label:"城市编码"}},[a("el-input",{attrs:{type:"text"},model:{value:t.editForm.cityCode,callback:function(e){t.$set(t.editForm,"cityCode",e)},expression:"editForm.cityCode"}})],1),a("el-form-item",{attrs:{label:"城市中心点"}},[a("el-input",{attrs:{type:"text"},model:{value:t.editForm.center,callback:function(e){t.$set(t.editForm,"center",e)},expression:"editForm.center"}})],1),a("el-form-item",{attrs:{label:"地区父节点"}},[a("el-input",{attrs:{type:"text"},model:{value:t.editForm.parentId,callback:function(e){t.$set(t.editForm,"parentId",e)},expression:"editForm.parentId"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modelDiv2=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("提交")])],1)],1)],1)},i=[],r=(a("386d"),a("cadf"),a("551c"),a("097d"),a("65b8")),o=a("9cf8"),s=a("b383"),c={mixins:[o["a"]],name:"region",data:function(){return{tableList:[],isDistrict:!1,currentPage:1,modelDiv:!1,modelDiv2:!1,province:"",city:"",form:{parentId:-1},addForm:{areaCode:"",areaName:"",level:"",cityCode:"",center:"",parentId:""},editForm:{id:"",areaCode:"",areaName:"",level:"",cityCode:"",center:"",parentId:""}}},components:{UserAddress:r["a"]},mounted:function(){this.search()},methods:{getArea:function(){var t=this.$refs.AddAddress.getData();""!=t.city?(this.form.parentId=t.checkCity[0].id,this.province=t.checkProvince[0].id,this.city=t.checkCity[0].id):(this.form.parentId=t.checkProvince[0].id,this.province=t.checkProvince[0].id,this.city=""),console.log(this.province+"--"+this.city),this.search()},search:function(){var t=this,e={size:20,page:this.currentPage-1};this.form=this.lodash.assign({},this.form,e),this.axios.get("/area/list?"+s.stringify(this.form)).then(function(e){200==e.data.code?(t.tableList=e.data.data,t.setPage(e.data.data)):t.$message(t.mes.busy)}).catch(function(e){console.log(e),t.$message(t.mes.busy)})},add:function(){var t=this;this.api.post("/area",this.addForm,"form").then(function(e){t.$message("信息添加成功"),t.search(),t.modelDiv=!1}).catch(function(t){console.log(t)})},edit:function(){var t=this;this.api.put("/area",this.editForm,"form").then(function(e){t.$message("信息修改成功"),t.search(),t.modelDiv2=!1}).catch(function(t){console.log(t)})},editRow:function(t){this.modelDiv2=!0,this.editForm=t},addPro:function(){this.modelDiv=!0},addCity:function(){""!=this.province?(this.modelDiv=!0,this.addForm.parentId=this.province):this.$message("请先选择省份！")},addCountry:function(){""!=this.city?(this.modelDiv=!0,this.addForm.parentId=this.city):this.$message("请先选择城市！")}}},l=c,d=(a("2802"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"22f228e7",null);u.options.__file="region.vue";e["default"]=u.exports},2802:function(t,e,a){"use strict";var n=a("6988"),i=a.n(n);i.a},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var n=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n):new RegExp(a)[e](String(n))},a]})},"3ebc":function(t,e,a){"use strict";a.d(e,"b",function(){return f}),a.d(e,"c",function(){return p}),a.d(e,"i",function(){return m}),a.d(e,"l",function(){return h}),a.d(e,"a",function(){return k}),a.d(e,"f",function(){return s}),a.d(e,"g",function(){return c}),a.d(e,"d",function(){return l}),a.d(e,"e",function(){return d}),a.d(e,"n",function(){return v}),a.d(e,"o",function(){return x}),a.d(e,"p",function(){return y}),a.d(e,"q",function(){return g}),a.d(e,"j",function(){return S}),a.d(e,"h",function(){return C}),a.d(e,"m",function(){return F}),a.d(e,"k",function(){return b});var n=a("2ef0"),i=a.n(n),r=a("7c15");function o(t){return i.a.sortBy(t,function(t){return t.sortId})}function s(t){return r["a"].get("/role").then(function(e){return t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function c(t){return r["a"].get("/user").then(function(e){var a={id:"",name:"全部",roleId:""};return e.data.unshift(a),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function l(t){return r["a"].get("/company?page=0&size=1000").then(function(e){var a={id:"",name:"全部"};return e.data.list.unshift(a),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function d(t,e){if(t)return r["a"].get("/goods?companyId=".concat(t,"&page=0&size=1000")).then(function(t){return e&&e(t.data),t.data}).catch(function(t){console.log(t)}),[]}function u(t){var e={dKey:"",id:"",dValue:"全部"};return t.unshift(e),t}var f=o(JSON.parse(sessionStorage.departmentList)),p=o(JSON.parse(sessionStorage.doctorTitleList)),m=o(JSON.parse(sessionStorage.hosLevelList)),h=o(JSON.parse(sessionStorage.propertyList)),v=o(JSON.parse(sessionStorage.skillTagList)),y=o(JSON.parse(sessionStorage.subDepartmentList)),g=o(JSON.parse(sessionStorage.typeList)),b=o(JSON.parse(sessionStorage.paperTypeList)),C=o(JSON.parse(sessionStorage.hopType)),k=JSON.parse(sessionStorage.addressProvince);g=u(g),p=u(p),m=u(m),h=u(h),v=u(v),b=u(b),C=u(C);var F=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],x=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],S=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"65b8":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"address-group"},[a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})})),a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})})),a("el-select",{directives:[{name:"show",rawName:"v-show",value:t.isDistrict,expression:"isDistrict"}],staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.countryList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}))],1)},i=[],r=a("3ebc"),o=a("dd36"),s=!0,c={name:"userAddress",props:{seletStyle:{default:function(){return{}}},defaultValue:{default:function(){return{}},type:Object},isDistrict:{default:!0,type:Boolean}},data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{addressAddAll:function(t){var e={areaCode:"",id:"",parentId:"",areaName:"全部"};return t.unshift(e),t},handleProvince:function(){var t=JSON.parse(JSON.stringify(r["a"]));this.provinceList=this.addressAddAll(t)},handleData:function(t,e,a){var n=this;t&&Object(o["a"])("area",{parentId:t}).then(function(t){if(t.data.code=n.ok){var i=t.data.data;return i=n.addressAddAll(i),a&&a(i),"province"===e?n.cityList=i:n.countryList=i}n.$message("系统繁忙，请稍后再试")}).catch(function(t){console.log(t),n.$message("系统繁忙，请稍后再试!")})},getData:function(){var t=this,e=this.provinceList.filter(function(e){return t.province===e.id}),a=this.cityList.filter(function(e){return t.city===e.id}),n=this.countryList.filter(function(e){return t.country===e.id}),i=e.length>0?e[0].areaCode:"",r=a.length>0?a[0].areaCode:"",o=n.length>0?n[0].areaCode:"",s={province:i,city:r,country:o,checkProvince:e,checkCity:a,checkCountry:n};return s}},watch:{defaultValue:function(){var t=this;if(this.defaultValue){var e=this.defaultValue,a=e.province,n=e.city,i=e.country;if(s=!1,!a)return s=!0;var r=this.lodash.filter(this.provinceList,function(t){return t.areaCode==a});this.province=r[0].id,Object(o["a"])("area",{parentId:this.province}).then(function(e){if(e.data.code=t.ok){if(t.cityList=e.data.data,!n)return s=!0;var a=t.lodash.filter(t.cityList,function(t){return t.areaCode==n});t.city=a[0].id,Object(o["a"])("area",{parentId:t.city}).then(function(e){if(e.data.code=t.ok){if(t.countryList=e.data.data,!i)return s=!0;var a=t.lodash.filter(t.countryList,function(t){return t.areaCode==i});t.country=a[0].id,s=!0}})}})}},province:function(t,e){s&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(t,"province"),this.$emit("countryChange",this.getData()))},city:function(t,e){s&&(this.countryList=[],this.country="",this.handleData(t,"city"),this.$emit("countryChange",this.getData()))},country:function(t,e){this.$emit("countryChange",this.getData())}}},l=c,d=(a("0e02"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"498b59aa",null);u.options.__file="address.vue";e["a"]=u.exports},6988:function(t,e,a){},"9cf8":function(t,e,a){"use strict";a("386d");var n={size:20,totalCount:100,totalPage:1},i={data:function(){return{pageParams:n,currentPage:1}},methods:{setPage:function(t){this.pageParams.totalCount=t.totalCount,this.pageParams.totalPage=t.totalPage},handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.currentPage=t}},watch:{currentPage:function(){this.search()}}};e["a"]=i}}]);
//# sourceMappingURL=chunk-d20fe24c.e33086c4.js.map