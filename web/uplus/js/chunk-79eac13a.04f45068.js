(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79eac13a"],{"0bfb":function(t,e,i){"use strict";var a=i("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0e02":function(t,e,i){"use strict";var a=i("154e"),s=i.n(a);s.a},"11e9":function(t,e,i){var a=i("52a7"),s=i("4630"),n=i("6821"),l=i("6a99"),o=i("69a8"),r=i("c69a"),c=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?c:function(t,e){if(t=n(t),e=l(e,!0),r)try{return c(t,e)}catch(i){}if(o(t,e))return s(!a.f.call(t,e),t[e])}},"154e":function(t,e,i){},"28a5":function(t,e,i){i("214f")("split",2,function(t,e,a){"use strict";var s=i("aae3"),n=a,l=[].push,o="split",r="length",c="lastIndex";if("c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[r]||2!="ab"[o](/(?:ab)*/)[r]||4!="."[o](/(.?)(.?)/)[r]||"."[o](/()()/)[r]>1||""[o](/.?/)[r]){var d=void 0===/()??/.exec("")[1];a=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!s(t))return n.call(i,t,e);var a,o,u,p,m,f=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,y=void 0===e?4294967295:e>>>0,_=new RegExp(t.source,v+"g");d||(a=new RegExp("^"+_.source+"$(?!\\s)",v));while(o=_.exec(i)){if(u=o.index+o[0][r],u>h&&(f.push(i.slice(h,o.index)),!d&&o[r]>1&&o[0].replace(a,function(){for(m=1;m<arguments[r]-2;m++)void 0===arguments[m]&&(o[m]=void 0)}),o[r]>1&&o.index<i[r]&&l.apply(f,o.slice(1)),p=o[0][r],h=u,f[r]>=y))break;_[c]===o.index&&_[c]++}return h===i[r]?!p&&_.test("")||f.push(""):f.push(i.slice(h)),f[r]>y?f.slice(0,y):f}}else"0"[o](void 0,0)[r]&&(a=function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)});return[function(i,s){var n=t(this),l=void 0==i?void 0:i[e];return void 0!==l?l.call(i,n,s):a.call(String(n),i,s)},a]})},3846:function(t,e,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},"3ebc":function(t,e,i){"use strict";i.d(e,"b",function(){return p}),i.d(e,"c",function(){return m}),i.d(e,"i",function(){return f}),i.d(e,"l",function(){return v}),i.d(e,"a",function(){return F}),i.d(e,"f",function(){return o}),i.d(e,"g",function(){return r}),i.d(e,"d",function(){return c}),i.d(e,"e",function(){return d}),i.d(e,"n",function(){return h}),i.d(e,"o",function(){return C}),i.d(e,"p",function(){return y}),i.d(e,"q",function(){return _}),i.d(e,"j",function(){return L}),i.d(e,"h",function(){return b}),i.d(e,"m",function(){return M}),i.d(e,"k",function(){return g});var a=i("2ef0"),s=i.n(a),n=i("7c15");function l(t){return s.a.sortBy(t,function(t){return t.sortId})}function o(t){return n["a"].get("/role").then(function(e){return t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function r(t){return n["a"].get("/user").then(function(e){var i={id:"",name:"全部",roleId:""};return e.data.unshift(i),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function c(t){return n["a"].get("/company?page=0&size=1000").then(function(e){var i={id:"",name:"全部"};return e.data.list.unshift(i),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function d(t,e){if(t)return n["a"].get("/goods?companyId=".concat(t,"&page=0&size=1000")).then(function(t){return e&&e(t.data),t.data}).catch(function(t){console.log(t)}),[]}function u(t){var e={dKey:"",id:"",dValue:"全部"};return t.unshift(e),t}var p=l(JSON.parse(sessionStorage.departmentList)),m=l(JSON.parse(sessionStorage.doctorTitleList)),f=l(JSON.parse(sessionStorage.hosLevelList)),v=l(JSON.parse(sessionStorage.propertyList)),h=l(JSON.parse(sessionStorage.skillTagList)),y=l(JSON.parse(sessionStorage.subDepartmentList)),_=l(JSON.parse(sessionStorage.typeList)),g=l(JSON.parse(sessionStorage.paperTypeList)),b=l(JSON.parse(sessionStorage.hopType)),F=JSON.parse(sessionStorage.addressProvince);_=u(_),m=u(m),f=u(f),v=u(v),h=u(h),g=u(g),b=u(b);var M=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],C=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],L=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"3fec":function(t,e,i){"use strict";var a=i("5ebe"),s=i.n(a);s.a},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,i){var a=i("d3f4"),s=i("8b97").set;t.exports=function(t,e,i){var n,l=e.constructor;return l!==i&&"function"==typeof l&&(n=l.prototype)!==i.prototype&&a(n)&&s&&s(t,n),t}},"5ebe":function(t,e,i){},"65b8":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"address-group"},[i("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,function(t){return i("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})})),i("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,function(t){return i("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})})),i("el-select",{directives:[{name:"show",rawName:"v-show",value:t.isDistrict,expression:"isDistrict"}],staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.countryList,function(t){return i("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}))],1)},s=[],n=i("3ebc"),l=i("dd36"),o=!0,r={name:"userAddress",props:{seletStyle:{default:function(){return{}}},defaultValue:{default:function(){return{}},type:Object},isDistrict:{default:!0,type:Boolean}},data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{addressAddAll:function(t){var e={areaCode:"",id:"",parentId:"",areaName:"全部"};return t.unshift(e),t},handleProvince:function(){var t=JSON.parse(JSON.stringify(n["a"]));this.provinceList=this.addressAddAll(t)},handleData:function(t,e,i){var a=this;t&&Object(l["a"])("area",{parentId:t}).then(function(t){if(t.data.code=a.ok){var s=t.data.data;return s=a.addressAddAll(s),i&&i(s),"province"===e?a.cityList=s:a.countryList=s}a.$message("系统繁忙，请稍后再试")}).catch(function(t){console.log(t),a.$message("系统繁忙，请稍后再试!")})},getData:function(){var t=this,e=this.provinceList.filter(function(e){return t.province===e.id}),i=this.cityList.filter(function(e){return t.city===e.id}),a=this.countryList.filter(function(e){return t.country===e.id}),s=e.length>0?e[0].areaCode:"",n=i.length>0?i[0].areaCode:"",l=a.length>0?a[0].areaCode:"",o={province:s,city:n,country:l,checkProvince:e,checkCity:i,checkCountry:a};return o}},watch:{defaultValue:function(){var t=this;if(this.defaultValue){var e=this.defaultValue,i=e.province,a=e.city,s=e.country;if(o=!1,!i)return o=!0;var n=this.lodash.filter(this.provinceList,function(t){return t.areaCode==i});this.province=n[0].id,Object(l["a"])("area",{parentId:this.province}).then(function(e){if(e.data.code=t.ok){if(t.cityList=e.data.data,!a)return o=!0;var i=t.lodash.filter(t.cityList,function(t){return t.areaCode==a});t.city=i[0].id,Object(l["a"])("area",{parentId:t.city}).then(function(e){if(e.data.code=t.ok){if(t.countryList=e.data.data,!s)return o=!0;var i=t.lodash.filter(t.countryList,function(t){return t.areaCode==s});t.country=i[0].id,o=!0}})}})}},province:function(t,e){o&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(t,"province"),this.$emit("countryChange",this.getData()))},city:function(t,e){o&&(this.countryList=[],this.country="",this.handleData(t,"city"),this.$emit("countryChange",this.getData()))},country:function(t,e){this.$emit("countryChange",this.getData())}}},c=r,d=(i("0e02"),i("2877")),u=Object(d["a"])(c,a,s,!1,null,"498b59aa",null);u.options.__file="address.vue";e["a"]=u.exports},"6b54":function(t,e,i){"use strict";i("3846");var a=i("cb7c"),s=i("0bfb"),n=i("9e1e"),l="toString",o=/./[l],r=function(t){i("2aba")(RegExp.prototype,l,t,!0)};i("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?r(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?s.call(t):void 0)}):o.name!=l&&r(function(){return o.call(this)})},"8b97":function(t,e,i){var a=i("d3f4"),s=i("cb7c"),n=function(t,e){if(s(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(s){e=!0}return function(t,i){return n(t,i),e?t.__proto__=i:a(t,i),t}}({},!1):void 0),check:n}},9093:function(t,e,i){var a=i("ce10"),s=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,s)}},a20d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{on:{click:t.back}},[t._v("返回")]),i("div",{staticClass:"main_h"},[t._v("用户姓名："+t._s(t.detail.orderListVO.userName))]),i("el-row",[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"list"},[i("span",[t._v("证件号码："+t._s(t.detail.orderListVO.paper))])]),i("div",{staticClass:"list"},[i("span",[t._v("手机号码："+t._s(t.detail.orderListVO.mobile))])]),i("div",{staticClass:"list"},[i("span",[t._v("用户地区："+t._s(t.detail.template.provinceValue)+" - "+t._s(t.detail.template.cityValue)+" - "+t._s(t.detail.template.countryValue))])]),i("div",{staticClass:"list"},[i("span",[t._v("预约手机号："+t._s(t.detail.template.bookMobile))])]),i("div",{staticClass:"list"},[i("span",[t._v("\n          所患疾病：\n          "),1==t.detail.template.sickType?i("span",[t._v("意外")]):t._e(),2==t.detail.template.sickType?i("span",[t._v("疾病")]):t._e(),3==t.detail.template.sickType?i("span",[t._v("重疾")]):t._e(),t._v("\n          -\n          "+t._s(t.detail.template.sickName)+"\n        ")])]),i("div",{staticClass:"list"},[i("span",[t._v("期望就诊地区："+t._s(t.detail.template.wantProvinceValue)+" - "+t._s(t.detail.template.wantCityValue)+" - "+t._s(t.detail.template.wantCountryValue))])]),i("div",{staticClass:"list"},[i("span",[t._v("预约医院："+t._s(t.detail.template.hospitalName))])]),i("div",{staticClass:"list"},[i("span",[t._v("预约科室："+t._s(t.detail.template.dept1Value)+" - "+t._s(t.detail.template.dept2Value))])])]),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"list"},[i("span",[t._v("入院时间："+t._s(t._f("formatDate")(t.detail.template.enterHospitalTime)))])]),i("div",{staticClass:"list"},[i("span",[t._v("已交费用："+t._s(t.detail.template.payMoney))])]),i("div",{staticClass:"list"},[i("span",[t._v("催缴费用："+t._s(t.detail.template.needMoney))])]),i("div",{staticClass:"list"},[i("span",[t._v("本次社保直结："+t._s(1==t.detail.template.sheBaoPay?"是":"否"))])]),i("div",{staticClass:"list"},[i("span",[t._v("接受新农合盖章："+t._s(1==t.detail.template.nongHeSign?"是":"否"))])])]),i("el-col",{staticStyle:{border:"1px solid #eaeaea",padding:"15px",background:"#f9f9f9"},attrs:{span:8}},[i("div",{staticClass:"list"},[i("span",[t._v("订单号："+t._s(t.detail.template.productId))])]),i("div",{staticClass:"list"},[i("span",[t._v("接单人员地区："+t._s(t.detail.groundPersonListVO.provinceValue)+" - "+t._s(t.detail.groundPersonListVO.cityValue)+" - "+t._s(t.detail.groundPersonListVO.countryValue))])]),i("div",{staticClass:"list"},[i("span",[t._v("接单人员姓名："+t._s(t.detail.groundPersonListVO.userName))])]),i("div",{staticClass:"list"},[i("span",[t._v("派单备注："+t._s(t.remark))])]),i("div",{staticClass:"list",staticStyle:{color:"#c00","font-weight":"bold"}},[1==t.deleteFlag?i("span",[t._v("订单状态：已完成-已关闭")]):i("span",[t._v("订单状态："+t._s(t.stateValue)+"-"+t._s(t.childStateValue))])]),i("div",{staticClass:"list"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.zhuandan=!0,t.intPerson()}}},[t._v("转单")]),0==t.deleteFlag?i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.close=!0}}},[t._v("关闭订单")]):t._e(),1==t.deleteFlag?i("span",{staticStyle:{"margin-left":"10px"}},[t._v("订单关闭原因:"+t._s(t.reason))]):t._e()],1)])],1),i("div",{staticClass:"main_h"},[t._v("订单流程")]),i("div",{staticClass:"timeline",staticStyle:{"margin-top":"20px"}},[i("div",{staticClass:"timeline_num"},[t._v("1")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("已派发订单接单")]),null==t.detail.orderFlow.groundPersonId?i("div",{staticClass:"red"},[t._v("未接单")]):t._e(),null!=t.detail.orderFlow.groundPersonId?i("div",[t.detail.personNames[0]?i("span",[t._v("负责人："+t._s(t.detail.personNames[0])+"    ")]):t._e(),i("span",{staticClass:"green"},[t._v(t._s(t.detail.groundPersonListVO.provinceValue)+"-"+t._s(t.detail.groundPersonListVO.cityValue)+"-"+t._s(t.detail.groundPersonListVO.countryValue)+" "+t._s(t.detail.groundPersonListVO.userName)+" 已接单")]),t._v("\n        "+t._s(t._f("formatDate2")(t.detail.orderFlow.groundPersonIdTime))+"\n      ")]):t._e()])]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("2")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("与患者联系人沟通服务细节")]),1!=t.detail.orderFlow.hasContact?i("div",{staticClass:"red"},[t._v("未沟通")]):t._e(),t.detail.orderFlow.hasContact?i("div",[t.detail.personNames[1]?i("span",[t._v("负责人："+t._s(t.detail.personNames[1])+"    ")]):t._e(),i("span",{staticClass:"green"},[t._v("已沟通")]),t._v("\n        "+t._s(t._f("formatDate2")(t.detail.orderFlow.hasContactTime))+"  \n        沟通备注："+t._s(t.detail.orderFlow.contactRemark)+"\n      ")]):t._e()])]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("3")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("检查并携带相关协议无误")]),1!=t.detail.orderFlow.hasChecked?i("div",{staticClass:"red"},[t._v("未检查")]):t._e(),t.detail.orderFlow.hasChecked?i("div",[t.detail.personNames[2]?i("span",[t._v("负责人："+t._s(t.detail.personNames[2])+"    ")]):t._e(),i("span",{staticClass:"green"},[t._v("已检查协议")]),t._v("\n        "+t._s(t._f("formatDate2")(t.detail.orderFlow.hasContactTime))+"\n      ")]):t._e()])]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("4")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("提交押金垫付已签署文件")]),i("div",[t.detail.personNames[3]?i("span",[t._v("负责人："+t._s(t.detail.personNames[3])+"    ")]):t._e(),1==t.detail.orderFlow.prePayFileConfirm?i("span",{staticClass:"green"},[t._v("资料已确认  ")]):t._e(),0==t.detail.orderFlow.prePayFileConfirm?i("span",{staticClass:"red"},[t._v("资料已驳回  ")]):t._e(),null!=t.detail.orderFlow.prePayFileConfirm?i("span",[t._v(t._s(t._f("formatDate2")(t.detail.orderFlow.prePayFileConfirmTime))+"  ")]):t._e(),1!=t.detail.orderFlow.prePayFileConfirm?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.detail.orderFlow.prePayFileConfirm=!0,t.submit()}}},[t._v("资料确认")]):t._e(),null==t.detail.orderFlow.prePayFileConfirm?i("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.detail.orderFlow.prePayFileConfirm=!1,t.submit()}}},[t._v("资料驳回")]):t._e(),i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){t.addUpload=!0}}},[t._v("补充上传")])],1),t.prePayFilesList?i("ul",{staticClass:"piclist"},[t._l(t.prePayFilesList[0],function(e){return""!=t.prePayFilesList[0]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("门诊病历影像件")])]):t._e()}),t._l(t.prePayFilesList[1],function(e){return""!=t.prePayFilesList[1]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("医疗垫付协议书")])]):t._e()}),t._l(t.prePayFilesList[2],function(e){return""!=t.prePayFilesList[2]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("理赔授权协议书")])]):t._e()}),t._l(t.prePayFilesList[3],function(e){return""!=t.prePayFilesList[3]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("理赔申请书")])]):t._e()}),t._l(t.prePayFilesList[4],function(e){return""!=t.prePayFilesList[4]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("用户身份证正面")])]):t._e()}),t._l(t.prePayFilesList[5],function(e){return""!=t.prePayFilesList[5]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("用户身份证反面")])]):t._e()}),t._l(t.prePayFilesList[6],function(e){return""!=t.prePayFilesList[6]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("用户保单复印件")])]):t._e()}),t._l(t.prePayFilesList[7],function(e){return""!=t.prePayFilesList[7]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("用户银行卡正面")])]):t._e()}),t._l(t.prePayFilesList[8],function(e){return""!=t.prePayFilesList[8]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("预交费凭证")])]):t._e()}),t._l(t.prePayFilesList[9],function(e){return""!=t.prePayFilesList[9]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("社保卡或新农合")])]):t._e()}),t._l(t.prePayFilesList[10],function(e){return""!=t.prePayFilesList[10]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("入院通知书")])]):t._e()})],2):t._e()])]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("5")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("确认垫付金额")]),null==t.detail.orderFlow.refusePay?i("div",[t._v("请输入保险公司确定的金额\n        "),i("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:t.prePayMoney1,callback:function(e){t.prePayMoney1=e},expression:"prePayMoney1"}}),t._v("  元  \n        "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.sendAddPay()}}},[t._v("提交")]),i("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.detail.orderFlow.refusePay=!0,t.submit()}}},[t._v("拒绝垫付")])],1):t._e(),0==t.detail.orderFlow.refusePay?i("div",[t.detail.personNames[4]?i("span",[t._v("负责人："+t._s(t.detail.personNames[4])+"    ")]):t._e(),t._v("\n        保险公司确定的金额 "+t._s(t.prePayMoney1)+"  元  \n        "),i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){t.isSend=!0}}},[t._v("追加垫付金")])],1):t._e(),t._l(t.addPayList,function(e){return t.addPayList.length>0?i("div",{staticStyle:{"margin-top":"10px"}},[t._v("\n        保险公司追加的金额\n        "+t._s(e)+"  元\n      ")]):t._e()}),t.isSend?i("div",{staticStyle:{"margin-top":"10px"}},[t._v("保险公司追加的金额\n        "),i("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:t.prePayMoney2,callback:function(e){t.prePayMoney2=e},expression:"prePayMoney2"}}),t._v("  元  \n        "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.sendAddPay2}},[t._v("提交")])],1):t._e()],2)]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("6")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("上传住院押金条")]),i("div",[t.detail.personNames[5]?i("span",[t._v("负责人："+t._s(t.detail.personNames[5])+"    ")]):t._e(),0==t.detail.orderFlow.refuseDeposit?i("span",{staticClass:"green"},[t._v("资料已确认  ")]):t._e(),1==t.detail.orderFlow.refuseDeposit?i("span",{staticClass:"red"},[t._v("资料已驳回  ")]):t._e(),null!=t.detail.orderFlow.refuseDeposit?i("span",[t._v(t._s(t._f("formatDate2")(t.detail.orderFlow.depositFilesTime))+"  ")]):t._e(),0!=t.detail.orderFlow.refuseDeposit?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.detail.orderFlow.refuseDeposit=!1,t.submit()}}},[t._v("资料确认")]):t._e(),null==t.detail.orderFlow.refuseDeposit?i("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.detail.orderFlow.refuseDeposit=!0,t.submit()}}},[t._v("资料驳回")]):t._e(),i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){t.addUpload2=!0}}},[t._v("补充上传")])],1),t.depositFilesList?i("ul",{staticClass:"piclist"},[t._l(t.depositFilesList[0],function(e){return""!=t.depositFilesList[0]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("住院押金条")])]):t._e()}),t._l(t.depositFilesList[1],function(e){return""!=t.depositFilesList[1]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("入院垫付协议")])]):t._e()}),t._l(t.depositFilesList[2],function(e){return""!=t.depositFilesList[2]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("刷卡凭条")])]):t._e()})],2):t._e()])]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("7")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("用户出院上传结算费用明细")]),i("div",[t.detail.personNames[6]?i("span",[t._v("负责人："+t._s(t.detail.personNames[6])+"    ")]):t._e(),0==t.detail.orderFlow.refuseBalance?i("span",{staticClass:"green"},[t._v("资料已确认  ")]):t._e(),1==t.detail.orderFlow.refuseBalance?i("span",{staticClass:"red"},[t._v("资料已驳回  ")]):t._e(),null!=t.detail.orderFlow.refuseBalance?i("span",[t._v(t._s(t._f("formatDate2")(t.detail.orderFlow.balanceFilesTime))+"  ")]):t._e(),0!=t.detail.orderFlow.refuseBalance?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.detail.orderFlow.refuseBalance=!1,t.submit()}}},[t._v("资料确认")]):t._e(),null==t.detail.orderFlow.refuseBalance?i("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){t.detail.orderFlow.refuseBalance=!0,t.submit()}}},[t._v("资料驳回")]):t._e(),i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){t.addUpload3=!0}}},[t._v("补充上传")])],1),t.balanceFilesList?i("ul",{staticClass:"piclist"},[t._l(t.balanceFilesList[0],function(e){return""!=t.balanceFilesList[0]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("住院发票")])]):t._e()}),t._l(t.balanceFilesList[1],function(e){return""!=t.balanceFilesList[1]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("诊断证明书")])]):t._e()}),t._l(t.balanceFilesList[2],function(e){return""!=t.balanceFilesList[2]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("出院小结")])]):t._e()}),t._l(t.balanceFilesList[3],function(e){return""!=t.balanceFilesList[3]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("结算费用清单")])]):t._e()}),t._l(t.balanceFilesList[4],function(e){return""!=t.balanceFilesList[4]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("住院病历")])]):t._e()}),t._l(t.balanceFilesList[5],function(e){return""!=t.balanceFilesList[5]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("垫付确认书")])]):t._e()}),t._l(t.balanceFilesList[6],function(e){return""!=t.balanceFilesList[6]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("门诊发票原件")])]):t._e()}),t._l(t.balanceFilesList[7],function(e){return""!=t.balanceFilesList[7]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("病理报告")])]):t._e()}),t._l(t.balanceFilesList[8],function(e){return""!=t.balanceFilesList[8]?i("li",[i("img",{attrs:{src:e},on:{click:function(i){t.imgLook(e)}}}),i("span",[t._v("检查报告")])]):t._e()})],2):t._e()])]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("8")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("生成理赔单")]),t.detail.personNames[7]?i("span",[t._v("负责人："+t._s(t.detail.personNames[7])+"    ")]):t._e(),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.claimDiv=!0}}},[t._v("提交理赔信息")]),t._v("\n        "+t._s(t._f("formatDate2")(t.detail.orderFlow.claimIdTime))+"\n    ")],1)]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("9")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("用户欠费追缴")]),i("div",[t.detail.personNames[8]?i("span",[t._v("负责人："+t._s(t.detail.personNames[8])+"    ")]):t._e(),t._v("\n        需追缴用户欠费\n        "),t.claimMain.backMoney?i("span",[t._v(t._s(Number(t.claimMain.totalMoney)-Number(t.claimMain.backMoney)-Number(t.claimMain.compensateMoney)))]):t._e(),t._v("\n        元  \n        "),null==t.detail.orderFlow.finishNeedMoney?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.detail.orderFlow.finishNeedMoney=!0,t.submit()}}},[t._v("确认追缴完成")]):t._e(),1==t.detail.orderFlow.finishNeedMoney?i("span",{staticClass:"green"},[t._v("用户欠费追缴已确认")]):t._e(),t._v("\n          \n        "+t._s(t._f("formatDate2")(t.detail.orderFlow.finishNeedMoneyTime))+"\n      ")],1)])]),i("div",{staticClass:"timeline"},[i("div",{staticClass:"timeline_num"},[t._v("10")]),i("div",{staticClass:"timeline_main"},[i("div",{staticClass:"timeline_title"},[t._v("服务完成")]),i("div",[t.detail.personNames[9]?i("span",[t._v("负责人："+t._s(t.detail.personNames[9])+"    ")]):t._e(),t._v("\n        服务完成时间："+t._s(t._f("formatDate2")(t.detail.orderFlow.finishTime))+"\n      ")])])]),i("el-dialog",{attrs:{title:"转单给",visible:t.zhuandan,width:"30%"},on:{"update:visible":function(e){t.zhuandan=e}}},[i("user-address",{ref:"AddAddress",on:{countryChange:t.getPerson}}),i("el-select",{staticClass:"com-input",staticStyle:{width:"100%","margin-top":"15px"},attrs:{placeholder:"请选择人员"},model:{value:t.form.personId,callback:function(e){t.$set(t.form,"personId",e)},expression:"form.personId"}},t._l(t.personList,function(t){return i("el-option",{key:t.id,attrs:{label:t.userName,value:t.id}})})),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.zhuandan=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.zhuandanSubmit}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"提交理赔信息",visible:t.claimDiv,width:"30%"},on:{"update:visible":function(e){t.claimDiv=e}}},[i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("首次垫付时间：")]),t.claimMain.prePayTimes?i("span",[t._v(t._s(t._f("formatDate2")(parseInt(t.claimMain.prePayTimes[0]))))]):t._e()]),i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("二次垫付时间：")]),t.claimMain.prePayTimes?i("span",[t._v(t._s(t._f("formatDate2")(parseInt(t.claimMain.prePayTimes[1]))))]):t._e()]),i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("总垫付次数：")]),t.detail.orderFlow.prePayMoney?i("span",[t._v(t._s(t.detail.orderFlow.prePayMoney.split(",").length))]):t._e(),t._v("\n      次\n    ")]),i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("总垫付金额：")]),t._v("\n      "+t._s(t.claimMain.totalMoney)+"元\n    ")]),i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("退费金额：")]),i("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:t.claimMain.backMoney,callback:function(e){t.$set(t.claimMain,"backMoney",e)},expression:"claimMain.backMoney"}}),t._v("  元\n    ")],1),i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("实际垫付金额：")]),t._v("\n      "+t._s(Number(t.claimMain.totalMoney)-Number(t.claimMain.backMoney))+"元\n    ")]),i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("理赔金额：")]),i("el-input",{staticStyle:{width:"100px"},attrs:{type:"number"},model:{value:t.claimMain.compensateMoney,callback:function(e){t.$set(t.claimMain,"compensateMoney",e)},expression:"claimMain.compensateMoney"}}),t._v("  元\n    ")],1),i("div",{staticClass:"dflist"},[i("span",{staticClass:"dfspan"},[t._v("应追缴金额：")]),t._v("\n      "+t._s(Number(t.claimMain.totalMoney)-Number(t.claimMain.backMoney)-Number(t.claimMain.compensateMoney))+"元\n    ")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.claimDiv=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.claim}},[t._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"补充上传",visible:t.addUpload,width:"30%"},on:{"update:visible":function(e){t.addUpload=e}}},[i("el-form",{attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"上传分类"}},[i("el-select",{attrs:{placeholder:"请选择上传分类"},model:{value:t.addUploadSort,callback:function(e){t.addUploadSort=e},expression:"addUploadSort"}},[i("el-option",{attrs:{label:"门诊病历影像件",value:"0"}}),i("el-option",{attrs:{label:"医疗垫付协议书",value:"1"}}),i("el-option",{attrs:{label:"理赔授权协议书",value:"2"}}),i("el-option",{attrs:{label:"理赔申请书",value:"3"}}),i("el-option",{attrs:{label:"用户身份证正面",value:"4"}}),i("el-option",{attrs:{label:"用户身份证反面",value:"5"}}),i("el-option",{attrs:{label:"用户保单复印件",value:"6"}}),i("el-option",{attrs:{label:"用户银行卡正面",value:"7"}}),i("el-option",{attrs:{label:"预交费凭证",value:"8"}}),i("el-option",{attrs:{label:"社保卡或新农合",value:"9"}}),i("el-option",{attrs:{label:"入院通知书",value:"10"}})],1)],1),i("el-form-item",{attrs:{label:"上传文件"}},[i("input",{attrs:{type:"file",name:"file",id:"upPhoto"},on:{change:t.fileChange}}),t.addUploadUrl?i("img",{staticClass:"avatar",attrs:{src:t.addUploadUrl}}):t._e()])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addUpload=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.addUploadSubmit}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"补充上传",visible:t.addUpload2,width:"30%"},on:{"update:visible":function(e){t.addUpload2=e}}},[i("el-form",{attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"上传分类"}},[i("el-select",{attrs:{placeholder:"请选择上传分类"},model:{value:t.addUploadSort2,callback:function(e){t.addUploadSort2=e},expression:"addUploadSort2"}},[i("el-option",{attrs:{label:"住院押金条",value:"0"}}),i("el-option",{attrs:{label:"入院垫付协议",value:"1"}}),i("el-option",{attrs:{label:"刷卡凭条",value:"2"}})],1)],1),i("el-form-item",{attrs:{label:"上传文件"}},[i("input",{attrs:{type:"file",name:"file",id:"upPhoto"},on:{change:t.fileChange2}}),t.addUploadUrl2?i("img",{staticClass:"avatar",attrs:{src:t.addUploadUrl2}}):t._e()])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addUpload2=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.addUploadSubmit2}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"补充上传",visible:t.addUpload3,width:"30%"},on:{"update:visible":function(e){t.addUpload3=e}}},[i("el-form",{attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"上传分类"}},[i("el-select",{attrs:{placeholder:"请选择上传分类"},model:{value:t.addUploadSort3,callback:function(e){t.addUploadSort3=e},expression:"addUploadSort3"}},[i("el-option",{attrs:{label:"住院发票",value:"0"}}),i("el-option",{attrs:{label:"诊断证明书",value:"1"}}),i("el-option",{attrs:{label:"出院小结",value:"2"}}),i("el-option",{attrs:{label:"结算费用清单",value:"3"}}),i("el-option",{attrs:{label:"住院病历",value:"4"}}),i("el-option",{attrs:{label:"垫付确认书",value:"5"}}),i("el-option",{attrs:{label:"门诊发票原件",value:"6"}}),i("el-option",{attrs:{label:"病理报告",value:"7"}}),i("el-option",{attrs:{label:"检查报告",value:"8"}})],1)],1),i("el-form-item",{attrs:{label:"上传文件"}},[i("input",{attrs:{type:"file",name:"file",id:"upPhoto"},on:{change:t.fileChange3}}),t.addUploadUrl3?i("img",{staticClass:"avatar",attrs:{src:t.addUploadUrl3}}):t._e()])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addUpload3=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.addUploadSubmit3}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"关闭订单",visible:t.close,width:"30%"},on:{"update:visible":function(e){t.close=e}}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请填写关闭原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.close=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.closeSubmit}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{"custom-class":"bigDig",visible:t.imgDiv,"show-close":!1},on:{"update:visible":function(e){t.imgDiv=e}}},[i("img",{attrs:{src:t.imgUrl}})])],1)},s=[],n=(i("c5f6"),i("28a5"),i("cadf"),i("551c"),i("097d"),i("65b8")),l=i("fc37"),o=i("b383"),r={data:function(){return{stateValue:this.$route.query.stateValue,childStateValue:this.$route.query.childStateValue,remark:this.$route.query.remark,deleteFlag:this.$route.query.deleteFlag,personList:[],form:{id:this.$route.query.id,personId:"",remark:""},searchForm:{province:"",city:"",country:""},detail:{orderListVO:{},template:{},groundPersonListVO:{id:"",provinceValue:"",cityValue:"",countryValue:"",userName:"",remark:""},orderFlow:{id:"",operatorId:"",createTime:"",updateTime:"",productOrderId:"",groundPersonId:null,groundPersonIdTime:null,claimId:null,claimIdTime:null,hasContact:null,hasContactTime:null,hasChecked:null,hasCheckedTime:null,prePayFiles:null,prePayFileConfirm:null,prePayFileConfirmTime:null,prePayMoney:null,refusePay:null,prePayMoneyTime:null,depositFiles:null,depositFilesTime:null,refuseDeposit:null,balanceFiles:null,balanceFilesTime:null,refuseBalance:null,needMoney:null,finishNeedMoney:null,finishNeedMoneyTime:null,finishTime:null},personNames:[]},claimMain:{productOrderId:this.$route.query.id,orderFlowId:"",prePayTimes:"",totalMoney:"",backMoney:"",realPayMoney:"",compensateMoney:"",needMoney:""},zhuandan:!1,imgDiv:!1,imgUrl:"",isSend:!1,claimDiv:!1,close:!1,prePayFilesList:null,depositFilesList:null,balanceFilesList:null,addUpload:!1,addUpload2:!1,addUpload3:!1,addUploadSort:"",addUploadSort2:"",addUploadSort3:"",addUploadUrl:"",addUploadUrl2:"",addUploadUrl3:"",reason:this.$route.query.reason,addPayList:[],prePayMoney1:"",prePayMoney2:"",backM:"",compM:""}},created:function(){this.getDetail(),this.getClaim()},components:{UserAddress:n["a"]},mounted:function(){},methods:{getDetail:function(){var t=this;this.axios.get("/productOrder/"+this.$route.query.id).then(function(e){if(200===e.data.code){if(e.data.data.groundPersonListVO&&(t.detail.groundPersonListVO=e.data.data.groundPersonListVO),e.data.data.orderFlow){if(t.detail.orderFlow=e.data.data.orderFlow,e.data.data.orderFlow.prePayFiles){t.prePayFilesList=e.data.data.orderFlow.prePayFiles.split(";");for(var i=0;i<t.prePayFilesList.length;i++)t.prePayFilesList[i]=t.prePayFilesList[i].split(",")}if(e.data.data.orderFlow.depositFiles){t.depositFilesList=e.data.data.orderFlow.depositFiles.split(";");for(i=0;i<t.depositFilesList.length;i++)t.depositFilesList[i]=t.depositFilesList[i].split(",")}if(e.data.data.orderFlow.balanceFiles){t.balanceFilesList=e.data.data.orderFlow.balanceFiles.split(";");for(i=0;i<t.balanceFilesList.length;i++)t.balanceFilesList[i]=t.balanceFilesList[i].split(",")}if(e.data.data.orderFlow.prePayMoney){var a=e.data.data.orderFlow.prePayMoney.split(",");t.prePayMoney1=a[0],t.addPayList=a.slice(1)}t.claimMain.orderFlowId=e.data.data.orderFlow.id}t.detail.orderListVO=e.data.data.orderListVO,t.detail.productId=e.data.data.productId,t.detail.productName=e.data.data.productName,t.detail.template=e.data.data.template,e.data.data.personNames&&(t.detail.personNames=e.data.data.personNames),t.prePayMoney2=""}}).catch(function(t){console.log(t)})},sendAddPay:function(){var t=this;""!=this.prePayMoney1?this.$confirm("提交后价格将不能修改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.detail.orderFlow.refusePay=!1,t.submit("pay"),t.isSend=!1,setTimeout(function(){t.postClaim()},2e3)}).catch(function(){}):this.$message("请填写金额！")},sendAddPay2:function(){var t=this;""!=this.prePayMoney2?this.$confirm("提交后价格将不能修改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.submit("pay"),t.isSend=!1,setTimeout(function(){t.postClaim()},2e3)}).catch(function(){}):this.$message("请填写金额！")},getClaim:function(){var t=this;this.axios.get("/claim?productOrderId="+this.$route.query.id).then(function(e){200===e.data.code&&e.data.data&&(t.claimMain=e.data.data,e.data.data.prePayTimes&&(t.claimMain.prePayTimes=e.data.data.prePayTimes.split(",")))}).catch(function(e){console.log(e),t.$message(t.mes.busy)})},closeSubmit:function(){var t=this;this.axios.delete("/productOrder/"+this.$route.query.id+"?reason="+this.reason).then(function(e){200===e.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.$router.back(-1))}).catch(function(e){console.log(e),t.$message(t.mes.busy)})},intPerson:function(){var t=this;this.searchForm.province="",this.searchForm.city="",this.searchForm.country="",this.api.get("/groundPerson?"+o.stringify(this.searchForm)).then(function(e){200==e.code&&(t.personList=e.data.list)}).catch(function(t){console.log(t)})},getPerson:function(){var t=this,e=this.$refs.AddAddress.getData();this.searchForm.province=e.province,this.searchForm.city=e.city,this.searchForm.country=e.country,this.api.get("/groundPerson?"+o.stringify(this.searchForm)).then(function(e){200==e.code&&(t.personList=e.data.list)}).catch(function(t){console.log(t)})},zhuandanSubmit:function(){var t=this;this.api.put("/productOrder/"+this.$route.query.id+"/groundPerson",this.form,"form").then(function(e){200==e.code&&(t.$message("操作成功！"),t.zhuandan=!1,t.getDetail(),t.getClaim())}).catch(function(t){console.log(t)})},imgLook:function(t){this.imgDiv=!0,this.imgUrl=t},back:function(){this.$router.back(-1)},postClaim:function(){var t=this;delete this.claimMain.createTime,delete this.claimMain.realPayMoney,delete this.claimMain.updateTime,null==this.claimMain.backMoney&&delete this.claimMain.backMoney,null==this.claimMain.compensateMoney&&delete this.claimMain.compensateMoney,this.claimMain.prePayTimes?this.claimMain.prePayTimes=this.claimMain.prePayTimes+","+(new Date).valueOf():this.claimMain.prePayTimes=(new Date).valueOf();var e=this.detail.orderFlow.prePayMoney.split(",");this.claimMain.totalMoney=e.reduce(function(t,e,i,a){return Number(t)+Number(e)}),this.claimMain.backMoney?this.backM=Number(this.claimMain.backMoney):this.backM=Number(0),this.claimMain.compensateMoney?this.compM=Number(this.claimMain.compensateMoney):this.compM=Number(0),this.claimMain.needMoney=Number(this.claimMain.totalMoney)-this.backM-this.compM,this.claimMain.id?this.api.put("/claim",this.claimMain,"form").then(function(e){t.getClaim()}).catch(function(e){console.log(e),t.$message(e.data.message)}):this.api.post("/claim",this.claimMain,"form").then(function(e){t.getClaim()}).catch(function(e){console.log(e),t.$message(e.data.message)})},claim:function(){var t=this;delete this.claimMain.createTime,null==this.claimMain.prePayTimes&&delete this.claimMain.prePayTimes,null==this.claimMain.totalMoney&&delete this.claimMain.totalMoney,delete this.claimMain.realPayMoney,delete this.claimMain.updateTime,null==this.claimMain.backMoney&&(this.claimMain.backMoney="0"),null==this.claimMain.compensateMoney&&(this.claimMain.compensateMoney="0"),this.claimMain.totalMoney&&(this.claimMain.needMoney=Number(this.claimMain.totalMoney)-Number(this.claimMain.backMoney)-Number(this.claimMain.compensateMoney)),this.claimMain.id?this.api.put("/claim",this.claimMain,"form").then(function(e){t.claimDiv=!1}).catch(function(e){console.log(e),t.claimDiv=!1,t.$message(e.data.message)}):this.api.post("/claim",this.claimMain,"form").then(function(e){t.claimDiv=!1}).catch(function(e){console.log(e),t.claimDiv=!1,t.$message(e.data.message)})},fileChange:function(t){var e=this;Object(l["c"])(t,function(t){e.addUploadUrl=t.url})},fileChange2:function(t){var e=this;Object(l["c"])(t,function(t){e.addUploadUrl2=t.url})},fileChange3:function(t){var e=this;Object(l["c"])(t,function(t){e.addUploadUrl3=t.url})},addUploadSubmit:function(){if(this.addUploadSort){var t=this.addUploadSort;""==this.prePayFilesList[t][0]?this.prePayFilesList[t][0]=this.addUploadUrl:this.prePayFilesList[t]=this.prePayFilesList[t].concat(this.addUploadUrl),this.addUpload=!1,this.submit()}else this.$message("请选择上传分类")},addUploadSubmit2:function(){if(this.addUploadSort2){var t=this.addUploadSort2;""==this.depositFilesList[t][0]?this.depositFilesList[t][0]=this.addUploadUrl2:this.depositFilesList[t]=this.depositFilesList[t].concat(this.addUploadUrl2),this.addUpload2=!1,this.submit()}else this.$message("请选择上传分类")},addUploadSubmit3:function(){if(this.addUploadSort3){var t=this.addUploadSort3;""==this.balanceFilesList[t][0]?this.balanceFilesList[t][0]=this.addUploadUrl3:this.balanceFilesList[t]=this.balanceFilesList[t].concat(this.addUploadUrl3),this.addUpload3=!1,this.submit()}else this.$message("请选择上传分类")},submit:function(t){var e=this,i={productOrderId:this.detail.orderFlow.productOrderId};this.prePayFilesList&&(i.prePayFiles=this.prePayFilesList.join(";")),this.depositFilesList&&(i.depositFiles=this.depositFilesList.join(";")),this.balanceFilesList&&(i.balanceFiles=this.balanceFilesList.join(";")),this.detail.orderFlow.id&&(i.id=this.detail.orderFlow.id),"pay"==t?null!=this.detail.orderFlow.prePayMoney?i.prePayMoney=this.detail.orderFlow.prePayMoney+","+this.prePayMoney2:i.prePayMoney=this.prePayMoney1:delete i.prePayMoney,null!=this.detail.orderFlow.finishNeedMoney&&(i.finishNeedMoney=this.detail.orderFlow.finishNeedMoney),null!=this.detail.orderFlow.prePayFileConfirm&&(i.prePayFileConfirm=this.detail.orderFlow.prePayFileConfirm),null!=this.detail.orderFlow.refusePay&&(i.refusePay=this.detail.orderFlow.refusePay),null!=this.detail.orderFlow.refuseDeposit&&(i.refuseDeposit=this.detail.orderFlow.refuseDeposit),null!=this.detail.orderFlow.refuseBalance&&(i.refuseBalance=this.detail.orderFlow.refuseBalance),this.api.put("/productOrder/orderFlow",i,"form").then(function(t){e.$message("订单修改成功"),e.getDetail()}).catch(function(t){console.log(t)})}},filters:{formatDate:function(t){if(t){new Date(t);return Object(l["f"])(t)}return""},formatDate2:function(t){if(t){var e=new Date(t),i=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",n=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",l=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return i+a+s+n+l+o}return""}}},c=r,d=(i("3fec"),i("2877")),u=Object(d["a"])(c,a,s,!1,null,null,null);u.options.__file="orderMain.vue";e["default"]=u.exports},aa77:function(t,e,i){var a=i("5ca1"),s=i("be13"),n=i("79e5"),l=i("fdef"),o="["+l+"]",r="​",c=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),u=function(t,e,i){var s={},o=n(function(){return!!l[t]()||r[t]()!=r}),c=s[t]=o?e(p):l[t];i&&(s[i]=c),a(a.P+a.F*o,"String",s)},p=u.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(d,"")),t};t.exports=u},aae3:function(t,e,i){var a=i("d3f4"),s=i("2d95"),n=i("2b4c")("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},c5f6:function(t,e,i){"use strict";var a=i("7726"),s=i("69a8"),n=i("2d95"),l=i("5dbc"),o=i("6a99"),r=i("79e5"),c=i("9093").f,d=i("11e9").f,u=i("86cc").f,p=i("aa77").trim,m="Number",f=a[m],v=f,h=f.prototype,y=n(i("2aeb")(h))==m,_="trim"in String.prototype,g=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():p(e,3);var i,a,s,n=e.charCodeAt(0);if(43===n||45===n){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+e}for(var l,r=e.slice(2),c=0,d=r.length;c<d;c++)if(l=r.charCodeAt(c),l<48||l>s)return NaN;return parseInt(r,a)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof f&&(y?r(function(){h.valueOf.call(i)}):n(i)!=m)?l(new v(g(e)),i,f):g(e)};for(var b,F=i("9e1e")?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;F.length>M;M++)s(v,b=F[M])&&!s(f,b)&&u(f,b,d(v,b));f.prototype=h,h.constructor=f,i("2aba")(a,m,f)}},fc37:function(t,e,i){"use strict";i.d(e,"f",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return c}),i.d(e,"d",function(){return d}),i.d(e,"e",function(){return u}),i.d(e,"c",function(){return p});i("7f7f"),i("6b54"),i("28a5");var a=i("2ef0"),s=i.n(a),n=i("bc3a"),l=i.n(n);function o(t){if(!t)return"";var e=new Date(t).getFullYear(),i=new Date(t).getMonth()+1,a=new Date(t).getDate();return i<10&&(i="0"+parseInt(i)),a<10&&(a="0"+parseInt(a)),"".concat(e,"-").concat(i,"-").concat(a)}function r(t){if(!t)return"";var e=t.getFullYear(),i=t.getMonth(),a=t.getDate();return i<10&&(i="0"+parseInt(i)),a<10&&(a="0"+parseInt(a)),"".concat(e,"-").concat(i,"-").concat(a)}function c(t){if(!t)return"";var e=t.getHours(),i=t.getMinutes();return e<10&&(e="0"+parseInt(e)),i<10&&(i="0"+parseInt(i)),"".concat(e,"：").concat(i)}function d(t){return t?s.a.map(t.split("-"),function(t){var e=t.split("：")[0],i=t.split("：")[1],a=(new Date).getFullYear(),s=(new Date).getMonth(),n=(new Date).getDay();return e=e.trim(),i=i.trim(),new Date(a,s,n,e,i)}):""}function u(t,e){t=t||"0",e=e||"code",t=t.toString();var i=[{code:"0",name:"启用"},{code:"-1",name:"停用"}],a=s.a.filter(i,function(i){return i[e]===t})||i;return a}function p(t,e){if(t){var i=t.target.files[0];if(i){var a=new FormData;a.append("chunk","0"),a.append("chunks","1"),a.append("file",i,i.name);var s={headers:{"Content-Type":"multipart/form-data"}};l.a.get("/weChat/qiniu/token").then(function(t){var i=t.data.data;a.append("token",i),m(a,s,e)})}}}function m(t,e,i){l.a.post("http://upload-z1.qiniup.com/",t,e).then(function(t){var e={message:"ok",url:"http://qiniu1.tianyalei.com/".concat(t.data.key)};i&&i(e)}).catch(function(t){console.log(t,"pppp")})}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-79eac13a.04f45068.js.map