(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34957b44"],{"09fb":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"addUser"},[i("div",{staticClass:"list"},[e._m(0),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.companyId,callback:function(t){e.companyId=t},expression:"companyId"}},e._l(e.companyList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),i("div",{staticClass:"list"},[e._m(1),i("el-select",{attrs:{placeholder:"请选择所属商品",disabled:!e.companyId},model:{value:e.ptGoodsId,callback:function(t){e.ptGoodsId=t},expression:"ptGoodsId"}},e._l(e.goodsList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e.goodsList.length<1?i("span",{staticClass:"red"},[e._v(e._s(e.goodsTip))]):e._e()],1),i("div",{staticClass:"list"},[e._m(2),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人姓名"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),i("div",{staticClass:"list"},[e._m(3),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},e._l(e.sexList,function(e){return i("el-option",{key:e.id,attrs:{label:e.dValue,value:e.dKey}})}))],1),i("div",{staticClass:"list"},[e._m(4),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.paperType,callback:function(t){e.paperType=t},expression:"paperType"}},e._l(e.paperTypeList,function(e){return i("el-option",{key:e.id,attrs:{label:e.dValue,value:e.dKey}})}))],1),i("div",{staticClass:"list"},[e._m(5),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人证件号码"},model:{value:e.paper,callback:function(t){e.paper=t},expression:"paper"}})],1),i("div",{staticClass:"list"},[e._m(6),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人电话号码"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),i("div",{staticClass:"list"},[e._m(7),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人电子邮件"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),i("div",{staticClass:"list"},[e._m(8),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入保单号/服务单号"},model:{value:e.cardNum,callback:function(t){e.cardNum=t},expression:"cardNum"}})],1),i("div",{staticClass:"list"},[e._m(9),i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),i("div",{staticClass:"list"},[e._m(10),i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),i("div",{staticClass:"list"},[e._m(11),i("el-input",{staticClass:"input-width",attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),i("div",{staticClass:"list"},[e._m(12),i("div",{staticClass:"list-radio"},[i("el-radio",{attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("正常")]),i("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("中止")]),i("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("终止")]),i("el-radio",{attrs:{label:"3"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("失效")])],1)]),i("div",{staticClass:"list"},[i("label",{staticClass:"list-item"}),i("div",{staticClass:"list-radio"},[i("el-button",{attrs:{size:"medium"},on:{click:e.submit}},[e._v("提交")]),i("el-button",{attrs:{size:"medium"},on:{click:e.cancle}},[e._v("取消")])],1)])])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("所属企业：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("所属商品：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人姓名：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人性别：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人证件类型：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人证件号码：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人电话号码：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item"},[i("i",[e._v("被服务人电子邮件：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item"},[i("i",[e._v("保单号/服务单号：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("生效起期：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("生效止期：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item textarea-label"},[i("i",[e._v("特别约定：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item textarea-label"},[i("i",[e._v("保单状态：")])])}],s=i("3ebc"),r=i("d48e"),c=i("fc37"),o=["请先选择所属企业信息","请先新建商品信息"],l=["userName","ptGoodsId","companyId","sex","paperType","paper","mobile","beginTime","endTime"],u={name:"addUser",data:function(){return{companyId:"",companyList:"",ptGoodsId:"",goodsList:[],goodsTip:o[0],userName:"",sex:"",sexList:s["m"],paperType:"",paperTypeList:s["k"],paper:"",mobile:"",email:"",cardNum:"",beginTime:"",endTime:"",remark:"",radio:"0",check:r["a"].methods.check,checkTip:r["a"].tips.checkTip}},mounted:function(){this.editInit()},methods:{editInit:function(){var e=this;Object(s["d"])(function(t){e.companyList=t.list})},submit:function(){var e=this,t=Object(c["a"])(this.beginTime),i=Object(c["a"])(this.endTime),a={userName:this.userName,ptGoodsId:this.ptGoodsId,companyId:this.companyId,sex:this.sex,paperType:this.paperType,paper:this.paper,mobile:this.mobile,cardNum:this.cardNum,remark:this.remark,status:this.status,beginTime:t,endTime:i},n=this.lodash.assign({},a);this.check(n,l).then(function(){e.addUser(n)},function(){e.$message(e.checkTip)}).catch(function(t){console.log(t),e.$message(t.data.message)})},addUser:function(e){var t=this;if("edit"===this.$route.query.type)return this.editUser(e);this.loading=!0,this.api.post("/customer",e).then(function(e){t.$router.go(-1),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)})},cancle:function(){this.$router.go(-1)}},watch:{companyId:function(e,t){var i=this;Object(s["e"])(e,function(e){if(i.ptGoodsId="",i.goodsList=e.list,e.list.length<1)return i.goodsTip=o[1]})}}},d=u,p=(i("a245"),i("2877")),f=Object(p["a"])(d,a,n,!1,null,"40c77ff6",null);f.options.__file="addUser.vue";t["default"]=f.exports},"0bfb":function(e,t,i){"use strict";var a=i("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"28a5":function(e,t,i){i("214f")("split",2,function(e,t,a){"use strict";var n=i("aae3"),s=a,r=[].push,c="split",o="length",l="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[o]||2!="ab"[c](/(?:ab)*/)[o]||4!="."[c](/(.?)(.?)/)[o]||"."[c](/()()/)[o]>1||""[c](/.?/)[o]){var u=void 0===/()??/.exec("")[1];a=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return s.call(i,e,t);var a,c,d,p,f,m=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,b=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,v+"g");u||(a=new RegExp("^"+g.source+"$(?!\\s)",v));while(c=g.exec(i)){if(d=c.index+c[0][o],d>h&&(m.push(i.slice(h,c.index)),!u&&c[o]>1&&c[0].replace(a,function(){for(f=1;f<arguments[o]-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c[o]>1&&c.index<i[o]&&r.apply(m,c.slice(1)),p=c[0][o],h=d,m[o]>=b))break;g[l]===c.index&&g[l]++}return h===i[o]?!p&&g.test("")||m.push(""):m.push(i.slice(h)),m[o]>b?m.slice(0,b):m}}else"0"[c](void 0,0)[o]&&(a=function(e,t){return void 0===e&&0===t?[]:s.call(this,e,t)});return[function(i,n){var s=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,s,n):a.call(String(s),i,n)},a]})},3846:function(e,t,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},"3d95":function(e,t,i){},"3ebc":function(e,t,i){"use strict";i.d(t,"b",function(){return p}),i.d(t,"c",function(){return f}),i.d(t,"i",function(){return m}),i.d(t,"l",function(){return v}),i.d(t,"a",function(){return k}),i.d(t,"f",function(){return c}),i.d(t,"g",function(){return o}),i.d(t,"d",function(){return l}),i.d(t,"e",function(){return u}),i.d(t,"n",function(){return h}),i.d(t,"o",function(){return C}),i.d(t,"p",function(){return b}),i.d(t,"q",function(){return g}),i.d(t,"j",function(){return T}),i.d(t,"h",function(){return y}),i.d(t,"m",function(){return x}),i.d(t,"k",function(){return _});var a=i("2ef0"),n=i.n(a),s=i("7c15");function r(e){return n.a.sortBy(e,function(e){return e.sortId})}function c(e){return s["a"].get("/role").then(function(t){return e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function o(e){return s["a"].get("/user").then(function(t){var i={id:"",name:"全部",roleId:""};return t.data.unshift(i),e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function l(e){return s["a"].get("/company?page=0&size=1000").then(function(t){var i={id:"",name:"全部"};return t.data.list.unshift(i),e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function u(e,t){if(e)return s["a"].get("/goods?companyId=".concat(e,"&page=0&size=1000")).then(function(e){return t&&t(e.data),e.data}).catch(function(e){console.log(e)}),[]}function d(e){var t={dKey:"",id:"",dValue:"全部"};return e.unshift(t),e}var p=r(JSON.parse(sessionStorage.departmentList)),f=r(JSON.parse(sessionStorage.doctorTitleList)),m=r(JSON.parse(sessionStorage.hosLevelList)),v=r(JSON.parse(sessionStorage.propertyList)),h=r(JSON.parse(sessionStorage.skillTagList)),b=r(JSON.parse(sessionStorage.subDepartmentList)),g=r(JSON.parse(sessionStorage.typeList)),_=r(JSON.parse(sessionStorage.paperTypeList)),y=r(JSON.parse(sessionStorage.hopType)),k=JSON.parse(sessionStorage.addressProvince);g=d(g),f=d(f),m=d(m),v=d(v),h=d(h),_=d(_),y=d(y);var x=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],C=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],T=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"6b54":function(e,t,i){"use strict";i("3846");var a=i("cb7c"),n=i("0bfb"),s=i("9e1e"),r="toString",c=/./[r],o=function(e){i("2aba")(RegExp.prototype,r,e,!0)};i("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?o(function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!s&&e instanceof RegExp?n.call(e):void 0)}):c.name!=r&&o(function(){return c.call(this)})},a245:function(e,t,i){"use strict";var a=i("3d95"),n=i.n(a);n.a},aae3:function(e,t,i){var a=i("d3f4"),n=i("2d95"),s=i("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},d48e:function(e,t,i){"use strict";t["a"]={methods:{check:function(e,t){var i=this;return new Promise(function(a,n){i.lodash.some(t,function(t){e[t]||i.lodash.isBoolean(e[t])||n()}),a()})}},tips:{checkTip:"请补全信息后提交"}}},fc37:function(e,t,i){"use strict";i.d(t,"f",function(){return c}),i.d(t,"a",function(){return o}),i.d(t,"b",function(){return l}),i.d(t,"d",function(){return u}),i.d(t,"e",function(){return d}),i.d(t,"c",function(){return p});i("7f7f"),i("6b54"),i("28a5");var a=i("2ef0"),n=i.n(a),s=i("bc3a"),r=i.n(s);function c(e){if(!e)return"";var t=new Date(e).getFullYear(),i=new Date(e).getMonth(),a=new Date(e).getDate();return i<10&&(i="0"+parseInt(i)),a<10&&(a="0"+parseInt(a)),"".concat(t,"-").concat(i,"-").concat(a)}function o(e){if(!e)return"";var t=e.getFullYear(),i=e.getMonth(),a=e.getDate();return i<10&&(i="0"+parseInt(i)),a<10&&(a="0"+parseInt(a)),"".concat(t,"-").concat(i,"-").concat(a)}function l(e){if(!e)return"";var t=e.getHours(),i=e.getMinutes();return t<10&&(t="0"+parseInt(t)),i<10&&(i="0"+parseInt(i)),"".concat(t,"：").concat(i)}function u(e){return e?n.a.map(e.split("-"),function(e){var t=e.split("：")[0],i=e.split("：")[1],a=(new Date).getFullYear(),n=(new Date).getMonth(),s=(new Date).getDay();return t=t.trim(),i=i.trim(),new Date(a,n,s,t,i)}):""}function d(e,t){e=e||"0",t=t||"code",e=e.toString();var i=[{code:"0",name:"启用"},{code:"-1",name:"停用"}],a=n.a.filter(i,function(i){return i[t]===e})||i;return a}function p(e,t){if(e){var i=e.target.files[0];if(i){var a=new FormData;a.append("chunk","0"),a.append("chunks","1"),a.append("file",i,i.name);var n={headers:{"Content-Type":"multipart/form-data"}};r.a.get("/weChat/qiniu/token").then(function(e){var i=e.data.data;a.append("token",i),f(a,n,t)})}}}function f(e,t,i){r.a.post("http://upload-z1.qiniup.com/",e,t).then(function(e){var t={message:"ok",url:"http://qiniu.tianyalei.com/".concat(e.data.key)};i&&i(t)}).catch(function(e){console.log(e,"pppp")})}}}]);
//# sourceMappingURL=chunk-34957b44.66bdb9c9.js.map