(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75c40195"],{"0be8":function(t,e,n){"use strict";var a=n("39bb"),i=n("2724"),r=n("6950"),s=n("c576"),c=n("c2ce"),o=n("e76c"),u=n("8166"),l=Math.min,d=[].push,f="split",h="length",p="lastIndex",v=!!function(){try{return new RegExp("x","y")}catch(t){}}();n("224e")("split",2,function(t,e,n,g){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[h]||2!="ab"[f](/(?:ab)*/)[h]||4!="."[f](/(.?)(.?)/)[h]||"."[f](/()()/)[h]>1||""[f](/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!a(t))return n.call(i,t,e);var r,s,c,o=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,l+"g");while(r=u.call(g,i)){if(s=g[p],s>f&&(o.push(i.slice(f,r.index)),r[h]>1&&r.index<i[h]&&d.apply(o,r.slice(1)),c=r[0][h],f=s,o[h]>=v))break;g[p]===r.index&&g[p]++}return f===i[h]?!c&&g.test("")||o.push(""):o.push(i.slice(f)),o[h]>v?o.slice(0,v):o}:"0"[f](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,a){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i,a):y.call(String(i),n,a)},function(t,e){var a=g(y,t,this,e,y!==n);if(a.done)return a.value;var u=i(t),d=String(this),f=r(u,RegExp),h=u.unicode,p=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),m=new f(v?u:"^(?:"+u.source+")",p),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===d.length)return null===o(m,d)?[d]:[];var k=0,C=0,w=[];while(C<d.length){m.lastIndex=v?C:0;var x,L=o(m,v?d:d.slice(C));if(null===L||(x=l(c(m.lastIndex+(v?0:C)),d.length))===k)C=s(d,C,h);else{if(w.push(d.slice(k,C)),w.length===b)return w;for(var S=1;S<=L.length-1;S++)if(w.push(L[S]),w.length===b)return w;C=k=x}}return w.push(d.slice(k)),w}]})},"147e":function(t,e,n){},"285d":function(t,e,n){},3498:function(t,e,n){n("4f1d")&&"g"!=/./g.flags&&n("e6bd").f(RegExp.prototype,"flags",{configurable:!0,get:n("508a")})},"39bb":function(t,e,n){var a=n("27e0"),i=n("f498"),r=n("20a7")("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},"3ebc":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"i",function(){return p}),n.d(e,"l",function(){return v}),n.d(e,"a",function(){return C}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return o}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"n",function(){return g}),n.d(e,"o",function(){return x}),n.d(e,"p",function(){return y}),n.d(e,"q",function(){return m}),n.d(e,"j",function(){return L}),n.d(e,"h",function(){return k}),n.d(e,"m",function(){return w}),n.d(e,"k",function(){return b});var a=n("c1f9"),i=n.n(a),r=n("7c15");function s(t){return i.a.sortBy(t,function(t){return t.sortId})}function c(t){return r["a"].get("/role").then(function(e){return t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function o(t){return r["a"].get("/user").then(function(e){var n={id:"",name:"全部",roleId:""};return e.data.unshift(n),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function u(t){return r["a"].get("/company?page=0&size=1000").then(function(e){var n={id:"",name:"全部"};return e.data.list.unshift(n),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function l(t,e){if(t)return r["a"].get("/goods?companyId=".concat(t,"&page=0&size=1000")).then(function(t){return e&&e(t.data),t.data}).catch(function(t){console.log(t)}),[]}function d(t){var e={dKey:"",id:"",dValue:"全部"};return t.unshift(e),t}var f=s(JSON.parse(sessionStorage.departmentList)),h=s(JSON.parse(sessionStorage.doctorTitleList)),p=s(JSON.parse(sessionStorage.hosLevelList)),v=s(JSON.parse(sessionStorage.propertyList)),g=s(JSON.parse(sessionStorage.skillTagList)),y=s(JSON.parse(sessionStorage.subDepartmentList)),m=s(JSON.parse(sessionStorage.typeList)),b=s(JSON.parse(sessionStorage.paperTypeList)),k=s(JSON.parse(sessionStorage.hopType)),C=JSON.parse(sessionStorage.addressProvince);m=d(m),h=d(h),p=d(p),v=d(v),g=d(g),b=d(b),k=d(k);var w=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],x=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],L=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"65b8":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"address-group"},[n("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,function(t){return n("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}),1),n("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,function(t){return n("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}),1),n("el-select",{directives:[{name:"show",rawName:"v-show",value:t.isDistrict,expression:"isDistrict"}],staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.countryList,function(t){return n("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}),1)],1)},i=[],r=n("3ebc"),s=n("dd36"),c=!0,o={name:"userAddress",props:{seletStyle:{default:function(){return{}}},defaultValue:{default:function(){return{}},type:Object},isDistrict:{default:!0,type:Boolean}},data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{addressAddAll:function(t){var e={areaCode:"",id:"",parentId:"",areaName:"全部"};return t.unshift(e),t},handleProvince:function(){var t=JSON.parse(JSON.stringify(r["a"]));this.provinceList=this.addressAddAll(t)},handleData:function(t,e,n){var a=this;t&&Object(s["a"])("area",{parentId:t}).then(function(t){if(t.data.code=a.ok){var i=t.data.data;return i=a.addressAddAll(i),n&&n(i),"province"===e?a.cityList=i:a.countryList=i}a.$message("系统繁忙，请稍后再试")}).catch(function(t){console.log(t),a.$message("系统繁忙，请稍后再试!")})},getData:function(){var t=this,e=this.provinceList.filter(function(e){return t.province===e.id}),n=this.cityList.filter(function(e){return t.city===e.id}),a=this.countryList.filter(function(e){return t.country===e.id}),i=e.length>0?e[0].areaCode:"",r=n.length>0?n[0].areaCode:"",s=a.length>0?a[0].areaCode:"",c={province:i,city:r,country:s,checkProvince:e,checkCity:n,checkCountry:a};return c}},watch:{defaultValue:function(){var t=this;if(this.defaultValue){var e=this.defaultValue,n=e.province,a=e.city,i=e.country;if(c=!1,!n)return c=!0;var r=this.lodash.filter(this.provinceList,function(t){return t.areaCode==n});this.province=r[0].id,Object(s["a"])("area",{parentId:this.province}).then(function(e){if(e.data.code=t.ok){if(t.cityList=e.data.data,!a)return c=!0;var n=t.lodash.filter(t.cityList,function(t){return t.areaCode==a});t.city=n[0].id,Object(s["a"])("area",{parentId:t.city}).then(function(e){if(e.data.code=t.ok){if(t.countryList=e.data.data,!i)return c=!0;var n=t.lodash.filter(t.countryList,function(t){return t.areaCode==i});t.country=n[0].id,c=!0}})}})}},province:function(t,e){c&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(t,"province"))},city:function(t,e){c&&(this.countryList=[],this.country="",this.handleData(t,"city"))},country:function(t,e){this.$emit("countryChange",this.getData())}}},u=o,l=(n("a092"),n("048f")),d=Object(l["a"])(u,a,i,!1,null,"3db8313c",null);d.options.__file="address.vue";e["a"]=d.exports},a092:function(t,e,n){"use strict";var a=n("147e"),i=n.n(a);i.a},c83b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("div",{staticClass:"box"},[n("h3",[t._v(t._s(t.activeheader))]),n("div",{staticClass:"input-box"},[n("span"),n("label",{staticClass:"label require"},[t._v("分院名称:")]),n("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("div",{staticClass:"input-box"},[n("span"),n("label",{staticClass:"label require"},[t._v("所在地区:")]),n("user-address",{ref:"addBranchAddress",attrs:{defaultValue:t.defaultAddress,seletStyle:"width:216px"}})],1),n("div",{staticClass:"input-box"},[n("span"),n("label",{staticClass:"label require"},[t._v("分院地址:")]),n("el-input",{staticClass:"input-width address",attrs:{placeholder:"请输入内容"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),n("div",{staticClass:"input-box"},[n("span"),n("label",{staticClass:"label"},[t._v("营业时间:")]),n("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.workTime,callback:function(e){t.workTime=e},expression:"workTime"}})],1),n("div",{staticClass:"input-box"},[n("span"),n("label",{staticClass:"label require"},[t._v("联系人：")]),n("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.contactPerson,callback:function(e){t.contactPerson=e},expression:"contactPerson"}})],1),n("div",{staticClass:"input-box"},[n("span"),n("label",{staticClass:"label"},[t._v("联系电话：")]),n("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("div",{staticClass:"input-box"},[n("span"),n("label",{staticClass:"label"},[t._v("上线状态：")]),n("el-radio-group",{model:{value:t.deleteFlag,callback:function(e){t.deleteFlag=e},expression:"deleteFlag"}},[n("el-radio",{attrs:{label:"1"}},[t._v("上线")]),n("el-radio",{attrs:{label:"0"}},[t._v("下线")])],1)],1),n("div",{staticClass:"input-box box-last"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),n("el-button",{on:{click:t.cancle}},[t._v("取消")])],1)])])},i=[],r=(n("c839"),n("65b8")),s=n("d48e"),c=n("fc37"),o=["新增分院","修改分院信息"],u=["name","contactPerson","address","province","city","country"],l=["/physicalChild","/chinaMedChild","/dentistryChild"],d={name:"branchAdd",data:function(){return{name:"",address:"",workTime:"",contactPerson:"",phone:"",deleteFlag:"1",loading:!1,activeheader:o[0],check:s["a"].methods.check,checkTip:s["a"].tips.checkTip,defaultAddress:null,code:"0",codeId:"",id:""}},mounted:function(){this.editInit()},methods:{editInit:function(){var t=this;if(this.$route.query){var e=this.$route.query,n=e.type,a=e.code,i=e.codeId,r=e.id;if(this.code=a,this.codeId=i,this.id=r,"edit"===n&&(this.activeheader=o[1]),r){this.loading=!0;var s=l[this.code];this.api.get("".concat(s,"/").concat(r)).then(function(e){t.dataInit(e.data),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)})}}},dataInit:function(t){t=t||{};var e=t,n=e.name,a=e.address,i=e.workTime,r=e.deleteFlag,s=e.contactPerson,o=e.phone,u=e.province,l=e.city,d=e.country;this.name=n,this.address=a,this.workTime=Object(c["d"])(i),this.contactPerson=s,this.phone=o,r||(this.deleteFlag="0"),this.defaultAddress={province:u,city:l,country:d}},submit:function(){var t=this,e=Object(c["b"])(this.workTime[0]),n=Object(c["b"])(this.workTime[1]),a=this.code,i=this.codeId,r=null;r=!!parseInt(this.deleteFlag);var s={name:this.name,contactPerson:this.contactPerson,address:this.address,workTime:e&&n?"".concat(e," - ").concat(n):"",phone:this.phone,deleteFlag:r},o=this.$refs.addBranchAddress.getData(),l=this.lodash.assign({},s,o);"0"===a&&(l.physicalId=i),"1"===a&&(l.chinaMedId=i),"2"===a&&(l.dentistryId=i),this.check(l,u).then(function(){t.addUser(l)},function(){t.$message(t.checkTip)}).catch(function(e){t.$message(e)})},editUser:function(t){var e=this;t.id=this.id,this.api.put(l[this.code],t,"form").then(function(t){e.$router.go(-1)}).catch(function(t){console.log(t),e.$message(t.data.message)})},addUser:function(t){var e=this;if("edit"===this.$route.query.type)return this.editUser(t);this.api.post(l[this.code],t,"form").then(function(t){e.$router.go(-1)}).catch(function(t){e.$message(t.data.message)})},cancle:function(){this.$router.go(-1)}},components:{UserAddress:r["a"]}},f=d,h=(n("e35f"),n("048f")),p=Object(h["a"])(f,a,i,!1,null,"7b312b00",null);p.options.__file="branchAdd.vue";e["default"]=p.exports},d48e:function(t,e,n){"use strict";e["a"]={methods:{check:function(t,e){var n=this;return new Promise(function(a,i){n.lodash.some(e,function(e){t[e]||n.lodash.isBoolean(t[e])||i()}),a()})}},tips:{checkTip:"请补全信息后提交"}}},e35f:function(t,e,n){"use strict";var a=n("285d"),i=n.n(a);i.a},eee6:function(t,e,n){"use strict";n("3498");var a=n("2724"),i=n("508a"),r=n("4f1d"),s="toString",c=/./[s],o=function(t){n("f57d")(RegExp.prototype,s,t,!0)};n("3f16")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?o(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?i.call(t):void 0)}):c.name!=s&&o(function(){return c.call(this)})},fc37:function(t,e,n){"use strict";n.d(e,"f",function(){return c}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return f});n("c839"),n("eee6"),n("0be8");var a=n("c1f9"),i=n.n(a),r=n("7f43"),s=n.n(r);function c(t){if(!t)return"";var e=new Date(t).getFullYear(),n=new Date(t).getMonth(),a=new Date(t).getDate();return n<10&&(n="0"+parseInt(n)),a<10&&(a="0"+parseInt(a)),"".concat(e,"-").concat(n,"-").concat(a)}function o(t){if(!t)return"";var e=t.getFullYear(),n=t.getMonth(),a=t.getDate();return n<10&&(n="0"+parseInt(n)),a<10&&(a="0"+parseInt(a)),"".concat(e,"-").concat(n,"-").concat(a)}function u(t){if(!t)return"";var e=t.getHours(),n=t.getMinutes();return e<10&&(e="0"+parseInt(e)),n<10&&(n="0"+parseInt(n)),"".concat(e,"：").concat(n)}function l(t){return t?i.a.map(t.split("-"),function(t){var e=t.split("：")[0],n=t.split("：")[1],a=(new Date).getFullYear(),i=(new Date).getMonth(),r=(new Date).getDay();return e=e.trim(),n=n.trim(),new Date(a,i,r,e,n)}):""}function d(t,e){t=t||"0",e=e||"code",t=t.toString();var n=[{code:"0",name:"启用"},{code:"-1",name:"停用"}],a=i.a.filter(n,function(n){return n[e]===t})||n;return a}function f(t,e){if(t){var n=t.target.files[0];if(n){var a=new FormData;a.append("chunk","0"),a.append("chunks","1"),a.append("file",n,n.name);var i={headers:{"Content-Type":"multipart/form-data"}};s.a.get("/weChat/qiniu/token").then(function(t){var n=t.data.data;a.append("token",n),h(a,i,e)})}}}function h(t,e,n){s.a.post("http://upload-z1.qiniup.com/",t,e).then(function(t){var e={message:"ok",url:"http://qiniu.tianyalei.com/".concat(t.data.key)};n&&n(e)}).catch(function(t){console.log(t,"pppp")})}}}]);
//# sourceMappingURL=chunk-75c40195.db66656f.js.map