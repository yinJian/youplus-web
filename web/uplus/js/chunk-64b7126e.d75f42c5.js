(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64b7126e"],{"331c":function(t,e,a){},"3ebc":function(t,e,a){"use strict";a.d(e,"b",function(){return h}),a.d(e,"c",function(){return p}),a.d(e,"i",function(){return f}),a.d(e,"l",function(){return v}),a.d(e,"a",function(){return C}),a.d(e,"f",function(){return o}),a.d(e,"g",function(){return c}),a.d(e,"d",function(){return l}),a.d(e,"e",function(){return d}),a.d(e,"n",function(){return y}),a.d(e,"o",function(){return L}),a.d(e,"p",function(){return m}),a.d(e,"q",function(){return b}),a.d(e,"j",function(){return S}),a.d(e,"h",function(){return k}),a.d(e,"m",function(){return x}),a.d(e,"k",function(){return g});a("cadf"),a("551c"),a("097d");var i=a("2ef0"),n=a.n(i),s=a("7c15");function r(t){return n.a.sortBy(t,function(t){return t.sortId})}function o(t){return s["a"].get("/role").then(function(e){return t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function c(t){return s["a"].get("/user").then(function(e){var a={id:"",name:"全部",roleId:""};return e.data.unshift(a),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function l(t){return s["a"].get("/company?page=0&size=1000").then(function(e){var a={id:"",name:"全部"};return e.data.list.unshift(a),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function d(t,e){if(t)return s["a"].get("/goods?companyId=".concat(t,"&page=0&size=1000")).then(function(t){return e&&e(t.data),t.data}).catch(function(t){console.log(t)}),[]}function u(t){var e={dKey:"",id:"",dValue:"全部"};return t.unshift(e),t}var h=r(JSON.parse(sessionStorage.departmentList)),p=r(JSON.parse(sessionStorage.doctorTitleList)),f=r(JSON.parse(sessionStorage.hosLevelList)),v=r(JSON.parse(sessionStorage.propertyList)),y=r(JSON.parse(sessionStorage.skillTagList)),m=r(JSON.parse(sessionStorage.subDepartmentList)),b=r(JSON.parse(sessionStorage.typeList)),g=r(JSON.parse(sessionStorage.paperTypeList)),k=r(JSON.parse(sessionStorage.hopType)),C=JSON.parse(sessionStorage.addressProvince);b=u(b),p=u(p),f=u(f),v=u(v),y=u(y),g=u(g),k=u(k);var x=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],L=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],S=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"65b8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"address-group"},[a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})})),a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})})),a("el-select",{directives:[{name:"show",rawName:"v-show",value:t.isDistrict,expression:"isDistrict"}],staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.countryList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}))],1)},n=[],s=a("3ebc"),r=a("dd36"),o=!0,c={name:"userAddress",props:{seletStyle:{default:function(){return{}}},defaultValue:{default:function(){return{}},type:Object},isDistrict:{default:!0,type:Boolean}},data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{addressAddAll:function(t){var e={areaCode:"",id:"",parentId:"",areaName:"全部"};return t.unshift(e),t},handleProvince:function(){var t=JSON.parse(JSON.stringify(s["a"]));this.provinceList=this.addressAddAll(t)},handleData:function(t,e,a){var i=this;t&&Object(r["a"])("area",{parentId:t}).then(function(t){if(t.data.code=i.ok){var n=t.data.data;return n=i.addressAddAll(n),a&&a(n),"province"===e?i.cityList=n:i.countryList=n}i.$message("系统繁忙，请稍后再试")}).catch(function(t){console.log(t),i.$message("系统繁忙，请稍后再试!")})},getData:function(){var t=this,e=this.provinceList.filter(function(e){return t.province===e.id}),a=this.cityList.filter(function(e){return t.city===e.id}),i=this.countryList.filter(function(e){return t.country===e.id}),n=e.length>0?e[0].areaCode:"",s=a.length>0?a[0].areaCode:"",r=i.length>0?i[0].areaCode:"",o={province:n,city:s,country:r,checkProvince:e,checkCity:a,checkCountry:i};return o}},watch:{defaultValue:function(){var t=this;if(this.defaultValue){var e=this.defaultValue,a=e.province,i=e.city,n=e.country;if(o=!1,!a)return o=!0;var s=this.lodash.filter(this.provinceList,function(t){return t.areaCode==a});this.province=s[0].id,Object(r["a"])("area",{parentId:this.province}).then(function(e){if(e.data.code=t.ok){if(t.cityList=e.data.data,!i)return o=!0;var a=t.lodash.filter(t.cityList,function(t){return t.areaCode==i});t.city=a[0].id,Object(r["a"])("area",{parentId:t.city}).then(function(e){if(e.data.code=t.ok){if(t.countryList=e.data.data,!n)return o=!0;var a=t.lodash.filter(t.countryList,function(t){return t.areaCode==n});t.country=a[0].id,o=!0}})}})}},province:function(t,e){o&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(t,"province"))},city:function(t,e){o&&(this.countryList=[],this.country="",this.handleData(t,"city"))},country:function(t,e){this.$emit("countryChange",this.getData())}}},l=c,d=(a("a092"),a("2877")),u=Object(d["a"])(l,i,n,!1,null,"3db8313c",null);u.options.__file="address.vue";e["a"]=u.exports},a092:function(t,e,a){"use strict";var i=a("331c"),n=a.n(i);n.a},ac16:function(t,e,a){"use strict";var i=a("ba9c"),n=a.n(i);n.a},ba9c:function(t,e,a){},d48e:function(t,e,a){"use strict";e["a"]={methods:{check:function(t,e){var a=this;return new Promise(function(i,n){a.lodash.some(e,function(e){t[e]||a.lodash.isBoolean(t[e])||n()}),i()})}},tips:{checkTip:"请补全信息后提交"}}},fed1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"box"},[a("h3",[t._v(t._s(t.activeheader))]),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label require",attrs:{for:""}},[t._v("医院名称：")]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label",attrs:{for:""}},[t._v("医院别名：")]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.otherName,callback:function(e){t.otherName=e},expression:"otherName"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require"},[t._v("医院类型:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.hopType,function(t){return a("el-option",{key:t.id,attrs:{label:t.dValue,value:t.dKey}})}))],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require"},[t._v("医院等级:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},t._l(t.hosLevelList,function(t){return a("el-option",{key:t.id,attrs:{label:t.dValue,value:t.dKey}})}))],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require"},[t._v("所在地区:")]),a("user-address",{ref:"hosAddAddress",attrs:{defaultValue:t.defaultAddress,seletStyle:"width:217px"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label",attrs:{for:""}},[t._v("医院电话：")]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label",attrs:{for:""}},[t._v("医院地址：")]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label"},[t._v("医院简介：")]),a("el-input",{attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:t.info,callback:function(e){t.info=e},expression:"info"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label",attrs:{for:""}}),a("el-checkbox",{attrs:{label:"true"},model:{value:t.shebao,callback:function(e){t.shebao=e},expression:"shebao"}},[t._v("社保医院")])],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label"},[t._v("备注信息：")]),a("el-input",{attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("div",{staticClass:"input-box box-last"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),a("el-button",{on:{click:t.cancle}},[t._v("取消")])],1)])])},n=[],s=(a("7f7f"),a("d48e")),r=a("3ebc"),o=a("65b8"),c=["新增医院","修改医院"],l=["name","type","level","province","city","country","shebao"],d={name:"hosAdd",data:function(){return{name:"",otherName:"",type:"",level:"",phone:"",address:"",remark:"",info:"",id:"",loading:!1,shebao:!1,defaultAddress:null,activeheader:c[0],check:s["a"].methods.check,checkTip:s["a"].tips.checkTip,hopType:r["h"],hosLevelList:r["i"]}},components:{UserAddress:o["a"]},mounted:function(){this.editInit()},methods:{editInit:function(){var t=this,e=this.$route.query,a=e.type,i=e.id;"edit"===a&&(this.activeheader=c[1]),i&&(this.loading=!0,this.api.get("/hospital/".concat(i)).then(function(e){t.dataInit(e.data),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)}))},dataInit:function(t){t=t||{};var e=t,a=e.name,i=e.otherName,n=e.type,s=e.level,r=e.phone,o=e.address,c=e.remark,l=e.info,d=e.id,u=e.province,h=e.city,p=e.country,f=e.shebao;this.name=a,this.otherName=i,this.type=n,this.level=s,this.phone=r,this.address=o,this.remark=c,this.info=l,this.id=d,this.shebao=f,this.defaultAddress={province:u,city:h,country:p}},submit:function(){var t=this,e=this.$refs.hosAddAddress.getData(),a={name:this.name,otherName:this.otherName,type:this.type,level:this.level,phone:this.phone,address:this.address,info:this.info,remark:this.remark,shebao:this.shebao},i=this.lodash.assign({},a,e);this.check(i,l).then(function(){t.addUser(i)},function(){t.$message(t.checkTip)}).catch(function(e){console.log(e),t.$message(e.data.message)})},editUser:function(t){var e=this;t.id=this.id,this.loading=!0,this.api.put("/hospital",t,"form").then(function(t){e.loading=!1,e.$router.go(-1)}).catch(function(t){console.log(t),e.loading=!1,e.$message(t.data.message)})},addUser:function(t){var e=this;if("edit"===this.$route.query.type)return this.editUser(t);this.loading=!0,this.api.post("/hospital",t,"form").then(function(t){e.$router.go(-1),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1,e.$message(t.data.message)})},cancle:function(){this.$router.go(-1)}}},u=d,h=(a("ac16"),a("2877")),p=Object(h["a"])(u,i,n,!1,null,"0f49862d",null);p.options.__file="hosAdd.vue";e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-64b7126e.d75f42c5.js.map