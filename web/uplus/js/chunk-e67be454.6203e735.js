(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e67be454"],{"0be8":function(t,e,a){"use strict";var i=a("39bb"),n=a("2724"),s=a("6950"),r=a("c576"),l=a("c2ce"),o=a("e76c"),c=a("8166"),u=Math.min,d=[].push,h="split",p="length",f="lastIndex",v=!!function(){try{return new RegExp("x","y")}catch(t){}}();a("224e")("split",2,function(t,e,a,b){var m;return m="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return a.call(n,t,e);var s,r,l,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=void 0===e?4294967295:e>>>0,b=new RegExp(t.source,u+"g");while(s=c.call(b,n)){if(r=b[f],r>h&&(o.push(n.slice(h,s.index)),s[p]>1&&s.index<n[p]&&d.apply(o,s.slice(1)),l=s[0][p],h=r,o[p]>=v))break;b[f]===s.index&&b[f]++}return h===n[p]?!l&&b.test("")||o.push(""):o.push(n.slice(h)),o[p]>v?o.slice(0,v):o}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,i){var n=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,n,i):m.call(String(n),a,i)},function(t,e){var i=b(m,t,this,e,m!==a);if(i.done)return i.value;var c=n(t),d=String(this),h=s(c,RegExp),p=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),y=new h(v?c:"^(?:"+c.source+")",f),k=void 0===e?4294967295:e>>>0;if(0===k)return[];if(0===d.length)return null===o(y,d)?[d]:[];var g=0,C=0,x=[];while(C<d.length){y.lastIndex=v?C:0;var A,_=o(y,v?d:d.slice(C));if(null===_||(A=u(l(y.lastIndex+(v?0:C)),d.length))===g)C=r(d,C,p);else{if(x.push(d.slice(g,C)),x.length===k)return x;for(var N=1;N<=_.length-1;N++)if(x.push(_[N]),x.length===k)return x;C=g=A}}return x.push(d.slice(g)),x}]})},"147e":function(t,e,a){},"39bb":function(t,e,a){var i=a("27e0"),n=a("f498"),s=a("20a7")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},"3ebc":function(t,e,a){"use strict";a.d(e,"b",function(){return h}),a.d(e,"c",function(){return p}),a.d(e,"i",function(){return f}),a.d(e,"l",function(){return v}),a.d(e,"a",function(){return C}),a.d(e,"f",function(){return l}),a.d(e,"g",function(){return o}),a.d(e,"d",function(){return c}),a.d(e,"e",function(){return u}),a.d(e,"n",function(){return b}),a.d(e,"o",function(){return A}),a.d(e,"p",function(){return m}),a.d(e,"q",function(){return y}),a.d(e,"j",function(){return _}),a.d(e,"h",function(){return g}),a.d(e,"m",function(){return x}),a.d(e,"k",function(){return k});var i=a("c1f9"),n=a.n(i),s=a("7c15");function r(t){return n.a.sortBy(t,function(t){return t.sortId})}function l(t){return s["a"].get("/role").then(function(e){return t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function o(t){return s["a"].get("/user").then(function(e){var a={id:"",name:"全部",roleId:""};return e.data.unshift(a),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function c(t){return s["a"].get("/company?page=0&size=1000").then(function(e){var a={id:"",name:"全部"};return e.data.list.unshift(a),t&&t(e.data),e.data}).catch(function(t){console.log(t)}),[]}function u(t,e){if(t)return s["a"].get("/goods?companyId=".concat(t,"&page=0&size=1000")).then(function(t){return e&&e(t.data),t.data}).catch(function(t){console.log(t)}),[]}function d(t){var e={dKey:"",id:"",dValue:"全部"};return t.unshift(e),t}var h=r(JSON.parse(sessionStorage.departmentList)),p=r(JSON.parse(sessionStorage.doctorTitleList)),f=r(JSON.parse(sessionStorage.hosLevelList)),v=r(JSON.parse(sessionStorage.propertyList)),b=r(JSON.parse(sessionStorage.skillTagList)),m=r(JSON.parse(sessionStorage.subDepartmentList)),y=r(JSON.parse(sessionStorage.typeList)),k=r(JSON.parse(sessionStorage.paperTypeList)),g=r(JSON.parse(sessionStorage.hopType)),C=JSON.parse(sessionStorage.addressProvince);y=d(y),p=d(p),f=d(f),v=d(v),b=d(b),k=d(k),g=d(g);var x=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],A=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],_=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"4a3b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"box"},[a("h3",[t._v(t._s(t.activeheader))]),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require",attrs:{for:""}},[a("i",[t._v("姓名：")])]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入用户姓名"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require",attrs:{for:""}},[a("i",[t._v("姓别：")])]),a("el-select",{attrs:{placeholder:"请选择用户性别"},model:{value:t.sex,callback:function(e){t.sex=e},expression:"sex"}},t._l(t.sexList,function(t){return a("el-option",{key:t.dValue,attrs:{label:t.dValue,value:t.dKey}})}),1)],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require"},[a("i",[t._v("地区：")])]),a("user-address",{ref:"userfileAddress",attrs:{defaultValue:t.defaultAddress,seletStyle:"width:217px"},on:{countryChange:t.countryChange}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require"},[a("i",[t._v("所在医院：")])]),a("el-select",{attrs:{placeholder:"请选择",disabled:t.hosArray.length<1},model:{value:t.hospitalId,callback:function(e){t.hospitalId=e},expression:"hospitalId"}},t._l(t.hosArray,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),t.hosArray.length<1?a("span",{staticClass:"red"},[t._v(t._s(t.hosTips))]):t._e(),t.hospitalId?a("span",{staticClass:"add",on:{click:t.hosAdd}},[t._v("添加")]):t._e()],1),t.hosNameArray.length>0?a("div",{staticClass:"input-box"},[a("label",{staticClass:"label"}),a("div",{staticClass:"input-tip"},t._l(t.hosNameArray,function(e){return a("span",{key:e.id},[t._v(t._s(e.name))])}),0)]):t._e(),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require",attrs:{for:""}},[a("i",[t._v("身份证号：")])]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.paper,callback:function(e){t.paper=e},expression:"paper"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require",attrs:{for:""}},[a("i",[t._v("手机号码：")])]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require",attrs:{for:""}},[a("i",[t._v("银行名称：")])]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label require",attrs:{for:""}},[a("i",[t._v("银行账号：")])]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.bankCardNum,callback:function(e){t.bankCardNum=e},expression:"bankCardNum"}})],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label",attrs:{for:""}}),a("el-checkbox",{attrs:{label:"1"},model:{value:t.areaOwner,callback:function(e){t.areaOwner=e},expression:"areaOwner"}},[t._v("地区负责人")])],1),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label"},[a("i",[t._v("人员技能标签：")])]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.skill,callback:function(e){t.skill=e},expression:"skill"}},t._l(t.skillTagList,function(t){return a("el-option",{key:t.id,attrs:{label:t.dValue,value:t.dKey}})}),1),t.skill?a("span",{staticClass:"add",on:{click:t.skillAdd}},[t._v("添加")]):t._e()],1),t.skillArry.length>0?a("div",{staticClass:"input-box"},[a("label",{staticClass:"label"}),a("div",{staticClass:"input-tip"},t._l(t.skillArry,function(e){return a("span",{key:e.id},[t._v(t._s(e.name))])}),0)]):t._e(),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label"},[a("i",[t._v("人员排版选择：")])]),a("div",[a("el-checkbox-group",{model:{value:t.dateAfterChecked,callback:function(e){t.dateAfterChecked=e},expression:"dateAfterChecked"}},t._l(t.dateMorList,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}),1),a("el-checkbox-group",{model:{value:t.dateAfterChecked,callback:function(e){t.dateAfterChecked=e},expression:"dateAfterChecked"}},t._l(t.dateAfterList,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}),1)],1)]),a("div",{staticClass:"input-box"},[a("label",{staticClass:"label"},[a("i",[t._v("备注：")])]),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),a("div",{staticClass:"input-box box-last"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),a("el-button",{on:{click:t.cancle}},[t._v("取消")])],1)])])},n=[],s=(a("c839"),a("0be8"),a("7d86")),r=a("d48e"),l=a("3ebc"),o=a("65b8"),c=a("5ee4"),u=a.n(c),d=["新增人员","修改信息"],h=["请先选择地区","该地区没有对应医院信息,请先新建医院"],p=[{id:"11",name:"星期一上午"},{id:"21",name:"星期二上午"},{id:"31",name:"星期三上午"},{id:"41",name:"星期四上午"},{id:"51",name:"星期五上午"}],f=[{id:"12",name:"星期一下午"},{id:"22",name:"星期二下午"},{id:"32",name:"星期三下午"},{id:"42",name:"星期四下午"},{id:"52",name:"星期五下午"}],v=["userName","sex","paper","mobile","bankCardNum","bank","province","hospitalIds"],b=!0,m={name:"addUserfiled",data:function(){var t;return t={userName:"",sex:"",sexList:l["m"],skillTagList:l["n"],hosTips:h[0],hospitalId:"",hospitalIdArray:[],skill:"",hosArray:[],hosNameArray:[],paper:"",mobile:"",bank:"",bankCardNum:"",areaOwner:"1"},Object(s["a"])(t,"paper",""),Object(s["a"])(t,"paper",""),Object(s["a"])(t,"remark",""),Object(s["a"])(t,"loading",!1),Object(s["a"])(t,"skillArry",[]),Object(s["a"])(t,"hospitalArry",[]),Object(s["a"])(t,"dateMorList",p),Object(s["a"])(t,"dateAfterList",f),Object(s["a"])(t,"dateAfterChecked",[]),Object(s["a"])(t,"defaultAddress",null),Object(s["a"])(t,"activeheader",d[0]),Object(s["a"])(t,"check",r["a"].methods.check),Object(s["a"])(t,"checkTip",r["a"].tips.checkTip),t},components:{UserAddress:o["a"]},mounted:function(){this.editInit()},methods:{editInit:function(){var t=this,e=this.$route.query,a=e.type,i=e.id;"edit"===a&&(this.activeheader=d[1]),i&&(this.loading=!0,this.api.get("/groundPerson/".concat(i)).then(function(e){t.dataInit(e.data),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)}))},dataInit:function(t){var e=this;t=t||{};var a=t,i=a.areaOwner,n=a.bank,s=a.bankCardNum,r=a.province,l=a.city,o=a.country,c=a.hospitalIds,d=a.id,h=a.mobile,p=a.paper,f=a.remark,v=a.sex,m=a.skills,y=a.userName,k=a.workTimes;this.userName=y,this.areaOwner=i,this.bank=n,this.bankCardNum=s,this.id=d,this.mobile=h,this.paper=p,this.remark=f,this.sex=v;if(c){b=!1;var g=u.a.stringify({province:r,city:l,country:o});this.api.get("/hospital?".concat(g)).then(function(t){e.hosArray=t.data.list;var a=c.split(",");a.map(function(t){e.hosAdd(t)}),setTimeout(function(){b=!0},1e3)})}if(m){var C=m.split(",");C.map(function(t){e.skillAdd(t)})}if(k){var x=k.split(",");x.map(function(t){e.dateAfterChecked.push(t)})}this.defaultAddress={province:r,city:l,country:o}},hosAdd:function(t){var e=this.hospitalId;t=parseInt(t),t&&(e=t);var a=this.hosArray.filter(function(t){return t.id==e}),i=this.hosNameArray.filter(function(t){return t.id==e}),n=a[0].name;if(n||(n=a[0].id),!(i.length>0)){var s=[].concat([],this.hosNameArray,{id:e,name:n});this.hosNameArray=s}},skillAdd:function(t){var e=this.skill;t=parseInt(t),t&&(e=t);var a=this.skillTagList.filter(function(t){return t.dKey==e}),i=this.skillArry.filter(function(t){return t.id==e}),n=a[0].dValue;if(!(i.length>0)){var s=[].concat([],this.skillArry,{id:e,name:n});this.skillArry=s}},submit:function(){var t=this,e=this.$refs.userfileAddress.getData(),a=this.hosNameArray.map(function(t){return t.id});a=a.join(",");var i=this.skillArry.map(function(t){return t.id});i=i.join(",");var n=this.dateAfterChecked.join(","),s={userName:this.userName,sex:this.sex,paper:this.paper,mobile:this.mobile,bankCardNum:this.bankCardNum,bank:this.bank,areaOwner:this.areaOwner,remark:this.remark,hospitalIds:a,skills:i,workTimes:n},r=this.lodash.assign({},s,e);this.check(r,v).then(function(){t.addUser(r)}).catch(function(e){console.log(e),t.$message(e)})},editUser:function(t){var e=this;t.id=this.id,this.loading=!0,this.api.put("/groundPerson",t,"form").then(function(t){e.loading=!1,e.$router.go(-1)}).catch(function(t){console.log(t),e.loading=!1,e.$message(t.data.message)})},addUser:function(t){var e=this;if("edit"===this.$route.query.type)return this.editUser(t);this.loading=!0,this.api.post("/groundPerson",t,"form").then(function(t){e.$router.go(-1),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1,e.$message(t.data.message)})},countryChange:function(t){var e=this,a=u.a.stringify(t||{});b&&this.api.get("/hospital?".concat(a)).then(function(t){e.hosArray=t.data.list,e.hospitalId="",e.hosNameArray=[],e.hospitalArry<1&&(e.hosTips=h[1])}).catch(function(t){console.log(t),e.$message(t.message)})},cancle:function(){this.$router.go(-1)}}},y=m,k=(a("9f47"),a("048f")),g=Object(k["a"])(y,i,n,!1,null,"40f9b200",null);g.options.__file="addUserfiled.vue";e["default"]=g.exports},"4ee4":function(t,e,a){},"65b8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"address-group"},[a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}),1),a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}),1),a("el-select",{directives:[{name:"show",rawName:"v-show",value:t.isDistrict,expression:"isDistrict"}],staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.countryList,function(t){return a("el-option",{key:t.id?t.id:1e3*Math.random(),attrs:{label:t.areaName,value:t.id}})}),1)],1)},n=[],s=a("3ebc"),r=a("dd36"),l=!0,o={name:"userAddress",props:{seletStyle:{default:function(){return{}}},defaultValue:{default:function(){return{}},type:Object},isDistrict:{default:!0,type:Boolean}},data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{addressAddAll:function(t){var e={areaCode:"",id:"",parentId:"",areaName:"全部"};return t.unshift(e),t},handleProvince:function(){var t=JSON.parse(JSON.stringify(s["a"]));this.provinceList=this.addressAddAll(t)},handleData:function(t,e,a){var i=this;t&&Object(r["a"])("area",{parentId:t}).then(function(t){if(t.data.code=i.ok){var n=t.data.data;return n=i.addressAddAll(n),a&&a(n),"province"===e?i.cityList=n:i.countryList=n}i.$message("系统繁忙，请稍后再试")}).catch(function(t){console.log(t),i.$message("系统繁忙，请稍后再试!")})},getData:function(){var t=this,e=this.provinceList.filter(function(e){return t.province===e.id}),a=this.cityList.filter(function(e){return t.city===e.id}),i=this.countryList.filter(function(e){return t.country===e.id}),n=e.length>0?e[0].areaCode:"",s=a.length>0?a[0].areaCode:"",r=i.length>0?i[0].areaCode:"",l={province:n,city:s,country:r,checkProvince:e,checkCity:a,checkCountry:i};return l}},watch:{defaultValue:function(){var t=this;if(this.defaultValue){var e=this.defaultValue,a=e.province,i=e.city,n=e.country;if(l=!1,!a)return l=!0;var s=this.lodash.filter(this.provinceList,function(t){return t.areaCode==a});this.province=s[0].id,Object(r["a"])("area",{parentId:this.province}).then(function(e){if(e.data.code=t.ok){if(t.cityList=e.data.data,!i)return l=!0;var a=t.lodash.filter(t.cityList,function(t){return t.areaCode==i});t.city=a[0].id,Object(r["a"])("area",{parentId:t.city}).then(function(e){if(e.data.code=t.ok){if(t.countryList=e.data.data,!n)return l=!0;var a=t.lodash.filter(t.countryList,function(t){return t.areaCode==n});t.country=a[0].id,l=!0}})}})}},province:function(t,e){l&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(t,"province"))},city:function(t,e){l&&(this.countryList=[],this.country="",this.handleData(t,"city"))},country:function(t,e){this.$emit("countryChange",this.getData())}}},c=o,u=(a("a092"),a("048f")),d=Object(u["a"])(c,i,n,!1,null,"3db8313c",null);d.options.__file="address.vue";e["a"]=d.exports},"9f47":function(t,e,a){"use strict";var i=a("4ee4"),n=a.n(i);n.a},a092:function(t,e,a){"use strict";var i=a("147e"),n=a.n(i);n.a},d48e:function(t,e,a){"use strict";e["a"]={methods:{check:function(t,e){var a=this;return new Promise(function(i,n){a.lodash.some(e,function(e){t[e]||a.lodash.isBoolean(t[e])||n()}),i()})}},tips:{checkTip:"请补全信息后提交"}}}}]);
//# sourceMappingURL=chunk-e67be454.6203e735.js.map