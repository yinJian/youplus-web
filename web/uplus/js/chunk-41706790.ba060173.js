(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41706790"],{"057a":function(t,e,a){var n=a("d0e9"),r=a("a9d3"),i=a("aed2"),o=a("dc29"),s=a("946c"),c=a("c3c2"),u=Object.getOwnPropertyDescriptor;e.f=a("2d57")?u:function(t,e){if(t=i(t),e=o(e,!0),c)try{return u(t,e)}catch(a){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},"29fd":function(t,e,a){"use strict";var n=a("7681"),r=a.n(n);r.a},3930:function(t,e,a){var n=a("1068"),r=a("853b"),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("6d6a")(Function.call,a("057a").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:i}},5246:function(t,e,a){"use strict";var n=a("b040"),r=a("946c"),i=a("85eb"),o=a("d082"),s=a("dc29"),c=a("7372"),u=a("efd2").f,l=a("057a").f,f=a("c810").f,d=a("c6db").trim,p="Number",m=n[p],g=m,h=m.prototype,b=i(a("c580")(h))==p,v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():d(e,3);var a,n,r,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var o,c=e.slice(2),u=0,l=c.length;u<l;u++)if(o=c.charCodeAt(u),o<48||o>r)return NaN;return parseInt(c,n)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof m&&(b?c(function(){h.valueOf.call(a)}):i(a)!=p)?o(new g(y(e)),a,m):y(e)};for(var I,_=a("2d57")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;_.length>N;N++)r(g,I=_[N])&&!r(m,I)&&f(m,I,l(g,I));m.prototype=h,h.constructor=m,a("f6d5")(n,p,m)}},7681:function(t,e,a){},"7a33":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"9cf8":function(t,e,a){"use strict";a("ea6b");var n={size:20,totalCount:100,totalPage:1},r={data:function(){return{pageParams:n,currentPage:1}},methods:{setPage:function(t){this.pageParams.totalCount=t.totalCount,this.pageParams.totalPage=t.totalPage},handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.currentPage=t}},watch:{currentPage:function(){this.search()}}};e["a"]=r},a8f6:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},c6db:function(t,e,a){var n=a("9736"),r=a("da87"),i=a("7372"),o=a("a8f6"),s="["+o+"]",c="​",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(t,e,a){var r={},s=i(function(){return!!o[t]()||c[t]()!=c}),u=r[t]=s?e(d):o[t];a&&(r[a]=u),n(n.P+n.F*s,"String",r)},d=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},d082:function(t,e,a){var n=a("1068"),r=a("3930").set;t.exports=function(t,e,a){var i,o=e.constructor;return o!==a&&"function"==typeof o&&(i=o.prototype)!==a.prototype&&n(i)&&r&&r(t,i),t}},d0e9:function(t,e){e.f={}.propertyIsEnumerable},d3f4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("企业名称："+t._s(t.companyName))])]),a("div",{},[a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.addServes}},[t._v("服务单新增")]),a("div",{staticClass:"file"},[a("button",{staticClass:"el-button btn el-button--primary",attrs:{"data-v-2ed252dc":"",type:"button"}},[a("label",{attrs:{for:"textFile"}},[t._v("服务单导入")]),a("input",{staticClass:"serverInput",attrs:{type:"file",id:"textFile"},on:{change:t.importServes}})])])],1)]),a("el-main",[a("el-table",{attrs:{data:t.servesInfoList}},[a("el-table-column",{attrs:{prop:"id",align:"center",label:"服务单ID"}}),a("el-table-column",{attrs:{prop:"userName",align:"center",label:"被服务人姓名"}}),a("el-table-column",{attrs:{prop:"mobile",align:"center",label:"被服务人电话"}}),a("el-table-column",{attrs:{prop:"mobile",align:"center",label:"关联权益人"}}),a("el-table-column",{attrs:{prop:"mobile",align:"center",label:"所属商品"}}),a("el-table-column",{attrs:{prop:"beginTimeValue",align:"center",label:"生效起期"}}),a("el-table-column",{attrs:{prop:"endTimeValue",align:"center",label:"生效至期"}}),a("el-table-column",{attrs:{prop:"statusValue",align:"center",label:"生效状态"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.del(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"demonstration-box"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageParams.size,layout:"total, prev, pager, next",total:t.pageParams.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)],1)},r=[],i=(a("7847"),a("5246"),a("ea6b"),a("9cf8")),o=(a("dd36"),a("5ee4")),s={name:"servesList",mixins:[i["a"]],data:function(){return{companyName:this.$route.query.companyName,id:this.$route.query.id,servesInfoList:[],currentPage:1}},created:function(){this.search()},methods:{importServes:function(t){var e=this,a=t.target.files[0],n=new FormData;n.append("files",a),n.append("goodsId",this.id),this.api.post("/order/import",n).then(function(t){e.search()}).catch(function(t){e.$message("返回数据格式错误，接口不通")})},addServes:function(){this.$router.push("addOrEditServe?type=add&companyName="+this.companyName+"&companyId="+this.id)},edit:function(t){this.$router.push("addOrEditServe?type=edit&id="+t.id+"&companyName="+this.companyName+"&companyId="+this.id)},del:function(t){var e=this;this.api.delete("order/".concat(t.id)).then(function(t){e.search(),e.$message(t.data.success)}).catch(function(t){e.$message(t.statusText)})},getStatusValue:function(t){var e="";switch(t){case"0":e="正常";break;case"1":e="中止";break;case"2":e="终止";break;case"3":e="失效";break}return e},search:function(){var t=this,e={companyid:this.id,page:this.currentPage-1,size:20};this.axios.get("/order?"+o.stringify(e)).then(function(e){var a=Number(e.data.code);200===a?(t.servesInfoList=e.data.data.list,t.servesInfoList.forEach(function(e,a){t.servesInfoList[a].beginTimeValue=t.timeFormater(e.beginTime).format("YYYY-MM-DD"),t.servesInfoList[a].endTimeValue=t.timeFormater(e.endTime).format("YYYY-MM-DD"),t.servesInfoList[a].statusValue=t.getStatusValue(String(e.status))}),t.setPage(e.data.data)):t.$message(t.mes.busy)}).catch(function(e){console.log(e),t.$message(t.mes.busy)})}}},c=s,u=(a("29fd"),a("048f")),l=Object(u["a"])(c,n,r,!1,null,"036dff8e",null);l.options.__file="servesList.vue";e["default"]=l.exports},ea6b:function(t,e,a){"use strict";var n=a("853b"),r=a("7a33"),i=a("54aa");a("6e77")("search",1,function(t,e,a,o){return[function(a){var n=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=o(a,t,this);if(e.done)return e.value;var s=n(t),c=String(this),u=s.lastIndex;r(u,0)||(s.lastIndex=0);var l=i(s,c);return r(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]})},efd2:function(t,e,a){var n=a("370e"),r=a("123b").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}}}]);
//# sourceMappingURL=chunk-41706790.ba060173.js.map