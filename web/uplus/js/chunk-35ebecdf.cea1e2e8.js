(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35ebecdf"],{"11e9":function(e,t,s){var a=s("52a7"),o=s("4630"),i=s("6821"),r=s("6a99"),n=s("69a8"),c=s("c69a"),d=Object.getOwnPropertyDescriptor;t.f=s("9e1e")?d:function(e,t){if(e=i(e),t=r(t,!0),c)try{return d(e,t)}catch(s){}if(n(e,t))return o(!a.f.call(e,t),e[t])}},"21b4":function(e,t,s){"use strict";var a=s("5c95"),o=s.n(a);o.a},"28a5":function(e,t,s){s("214f")("split",2,function(e,t,a){"use strict";var o=s("aae3"),i=a,r=[].push,n="split",c="length",d="lastIndex";if("c"=="abbc"[n](/(b)*/)[1]||4!="test"[n](/(?:)/,-1)[c]||2!="ab"[n](/(?:ab)*/)[c]||4!="."[n](/(.?)(.?)/)[c]||"."[n](/()()/)[c]>1||""[n](/.?/)[c]){var l=void 0===/()??/.exec("")[1];a=function(e,t){var s=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(s,e,t);var a,n,u,h,f,p=[],y=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,y+"g");l||(a=new RegExp("^"+g.source+"$(?!\\s)",y));while(n=g.exec(s)){if(u=n.index+n[0][c],u>m&&(p.push(s.slice(m,n.index)),!l&&n[c]>1&&n[0].replace(a,function(){for(f=1;f<arguments[c]-2;f++)void 0===arguments[f]&&(n[f]=void 0)}),n[c]>1&&n.index<s[c]&&r.apply(p,n.slice(1)),h=n[0][c],m=u,p[c]>=v))break;g[d]===n.index&&g[d]++}return m===s[c]?!h&&g.test("")||p.push(""):p.push(s.slice(m)),p[c]>v?p.slice(0,v):p}}else"0"[n](void 0,0)[c]&&(a=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(s,o){var i=e(this),r=void 0==s?void 0:s[t];return void 0!==r?r.call(s,i,o):a.call(String(i),s,o)},a]})},"3ebc":function(e,t,s){"use strict";s.d(t,"b",function(){return h}),s.d(t,"c",function(){return f}),s.d(t,"i",function(){return p}),s.d(t,"l",function(){return y}),s.d(t,"a",function(){return b}),s.d(t,"f",function(){return n}),s.d(t,"g",function(){return c}),s.d(t,"d",function(){return d}),s.d(t,"e",function(){return l}),s.d(t,"n",function(){return m}),s.d(t,"o",function(){return _}),s.d(t,"p",function(){return v}),s.d(t,"q",function(){return g}),s.d(t,"j",function(){return k}),s.d(t,"h",function(){return I}),s.d(t,"m",function(){return C}),s.d(t,"k",function(){return P});s("cadf"),s("551c"),s("097d");var a=s("2ef0"),o=s.n(a),i=s("7c15");function r(e){return o.a.sortBy(e,function(e){return e.sortId})}function n(e){return i["a"].get("/role").then(function(t){return e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function c(e){return i["a"].get("/user").then(function(t){var s={id:"",name:"全部",roleId:""};return t.data.unshift(s),e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function d(e){return i["a"].get("/company?page=0&size=1000").then(function(t){var s={id:"",name:"全部"};return t.data.list.unshift(s),e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function l(e,t){if(e)return i["a"].get("/goods?companyId=".concat(e,"&page=0&size=1000")).then(function(e){return t&&t(e.data),e.data}).catch(function(e){console.log(e)}),[]}function u(e){var t={dKey:"",id:"",dValue:"全部"};return e.unshift(t),e}var h=r(JSON.parse(sessionStorage.departmentList)),f=r(JSON.parse(sessionStorage.doctorTitleList)),p=r(JSON.parse(sessionStorage.hosLevelList)),y=r(JSON.parse(sessionStorage.propertyList)),m=r(JSON.parse(sessionStorage.skillTagList)),v=r(JSON.parse(sessionStorage.subDepartmentList)),g=r(JSON.parse(sessionStorage.typeList)),P=r(JSON.parse(sessionStorage.paperTypeList)),I=r(JSON.parse(sessionStorage.hopType)),b=JSON.parse(sessionStorage.addressProvince);g=u(g),f=u(f),p=u(p),y=u(y),m=u(m),P=u(P),I=u(I);var C=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],_=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],k=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"3ec0":function(e,t,s){"use strict";var a=s("7c95"),o=s.n(a);o.a},"421e":function(e,t,s){"use strict";var a=s("4325"),o=s.n(a);o.a},4325:function(e,t,s){},"52a7":function(e,t){t.f={}.propertyIsEnumerable},"5c95":function(e,t,s){},"5dbc":function(e,t,s){var a=s("d3f4"),o=s("8b97").set;e.exports=function(e,t,s){var i,r=t.constructor;return r!==s&&"function"==typeof r&&(i=r.prototype)!==s.prototype&&a(i)&&o&&o(e,i),e}},"65b8":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"address-group"},[s("el-select",{staticClass:"address-input",style:e.seletStyle,attrs:{placeholder:"全部"},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}},e._l(e.provinceList,function(e){return s("el-option",{key:e.id?e.id:1e3*Math.random(),attrs:{label:e.areaName,value:e.id}})})),s("el-select",{staticClass:"address-input",style:e.seletStyle,attrs:{placeholder:"全部"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}},e._l(e.cityList,function(e){return s("el-option",{key:e.id?e.id:1e3*Math.random(),attrs:{label:e.areaName,value:e.id}})})),s("el-select",{directives:[{name:"show",rawName:"v-show",value:e.isDistrict,expression:"isDistrict"}],staticClass:"address-input",style:e.seletStyle,attrs:{placeholder:"全部"},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryList,function(e){return s("el-option",{key:e.id?e.id:1e3*Math.random(),attrs:{label:e.areaName,value:e.id}})}))],1)},o=[],i=s("3ebc"),r=s("dd36"),n=!0,c={name:"userAddress",props:{seletStyle:{default:function(){return{}}},defaultValue:{default:function(){return{}},type:Object},isDistrict:{default:!0,type:Boolean}},data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{addressAddAll:function(e){var t={areaCode:"",id:"",parentId:"",areaName:"全部"};return e.unshift(t),e},handleProvince:function(){var e=JSON.parse(JSON.stringify(i["a"]));this.provinceList=this.addressAddAll(e)},handleData:function(e,t,s){var a=this;e&&Object(r["a"])("area",{parentId:e}).then(function(e){if(e.data.code=a.ok){var o=e.data.data;return o=a.addressAddAll(o),s&&s(o),"province"===t?a.cityList=o:a.countryList=o}a.$message("系统繁忙，请稍后再试")}).catch(function(e){console.log(e),a.$message("系统繁忙，请稍后再试!")})},getData:function(){var e=this,t=this.provinceList.filter(function(t){return e.province===t.id}),s=this.cityList.filter(function(t){return e.city===t.id}),a=this.countryList.filter(function(t){return e.country===t.id}),o=t.length>0?t[0].areaCode:"",i=s.length>0?s[0].areaCode:"",r=a.length>0?a[0].areaCode:"",n={province:o,city:i,country:r,checkProvince:t,checkCity:s,checkCountry:a};return n}},watch:{defaultValue:function(){var e=this;if(this.defaultValue){var t=this.defaultValue,s=t.province,a=t.city,o=t.country;if(n=!1,!s)return n=!0;var i=this.lodash.filter(this.provinceList,function(e){return e.areaCode==s});this.province=i[0].id,Object(r["a"])("area",{parentId:this.province}).then(function(t){if(t.data.code=e.ok){if(e.cityList=t.data.data,!a)return n=!0;var s=e.lodash.filter(e.cityList,function(e){return e.areaCode==a});e.city=s[0].id,Object(r["a"])("area",{parentId:e.city}).then(function(t){if(t.data.code=e.ok){if(e.countryList=t.data.data,!o)return n=!0;var s=e.lodash.filter(e.countryList,function(e){return e.areaCode==o});e.country=s[0].id,n=!0}})}})}},province:function(e,t){n&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(e,"province"))},city:function(e,t){n&&(this.countryList=[],this.country="",this.handleData(e,"city"))},country:function(e,t){this.$emit("countryChange",this.getData())}}},d=c,l=(s("bb81"),s("2877")),u=Object(l["a"])(d,a,o,!1,null,"b9631bf0",null);u.options.__file="address.vue";t["a"]=u.exports},"7c95":function(e,t,s){},"8b97":function(e,t,s){var a=s("d3f4"),o=s("cb7c"),i=function(e,t){if(o(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=s("9b43")(Function.call,s("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,s){return i(e,s),t?e.__proto__=s:a(e,s),e}}({},!1):void 0),check:i}},9093:function(e,t,s){var a=s("ce10"),o=s("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,o)}},aa77:function(e,t,s){var a=s("5ca1"),o=s("be13"),i=s("79e5"),r=s("fdef"),n="["+r+"]",c="​",d=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),u=function(e,t,s){var o={},n=i(function(){return!!r[e]()||c[e]()!=c}),d=o[e]=n?t(h):r[e];s&&(o[s]=d),a(a.P+a.F*n,"String",o)},h=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},aae3:function(e,t,s){var a=s("d3f4"),o=s("2d95"),i=s("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},bb81:function(e,t,s){"use strict";var a=s("e9a8"),o=s.n(a);o.a},c5f6:function(e,t,s){"use strict";var a=s("7726"),o=s("69a8"),i=s("2d95"),r=s("5dbc"),n=s("6a99"),c=s("79e5"),d=s("9093").f,l=s("11e9").f,u=s("86cc").f,h=s("aa77").trim,f="Number",p=a[f],y=p,m=p.prototype,v=i(s("2aeb")(m))==f,g="trim"in String.prototype,P=function(e){var t=n(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():h(t,3);var s,a,o,i=t.charCodeAt(0);if(43===i||45===i){if(s=t.charCodeAt(2),88===s||120===s)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+t}for(var r,c=t.slice(2),d=0,l=c.length;d<l;d++)if(r=c.charCodeAt(d),r<48||r>o)return NaN;return parseInt(c,a)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,s=this;return s instanceof p&&(v?c(function(){m.valueOf.call(s)}):i(s)!=f)?r(new y(P(t)),s,p):P(t)};for(var I,b=s("9e1e")?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;b.length>C;C++)o(y,I=b[C])&&!o(p,I)&&u(p,I,l(y,I));p.prototype=m,m.constructor=p,s("2aba")(a,f,p)}},e544:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"contianer"},[s("h3",{staticClass:"title"},[e._v("企业名称："+e._s(e.companyName)+"-"+e._s(e.goodsName))]),s("div",{staticClass:"list"},[e._m(0),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.goodsInfo.ptGoodsPlanId,callback:function(t){e.$set(e.goodsInfo,"ptGoodsPlanId",t)},expression:"goodsInfo.ptGoodsPlanId"}},e._l(e.goodsPlanList,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),s("div",{staticClass:"list"},[e._m(1),s("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.goodsInfo.name,callback:function(t){e.$set(e.goodsInfo,"name",t)},expression:"goodsInfo.name"}})],1),s("div",{staticClass:"list"},[e._m(2),s("el-input",{attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:e.goodsInfo.remark,callback:function(t){e.$set(e.goodsInfo,"remark",t)},expression:"goodsInfo.remark"}})],1),s("div",{staticClass:"list"},[s("span"),e._m(3),s("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.goodsInfo.beginTime,callback:function(t){e.$set(e.goodsInfo,"beginTime",t)},expression:"goodsInfo.beginTime"}}),s("span"),e._m(4),s("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.goodsInfo.endTime,callback:function(t){e.$set(e.goodsInfo,"endTime",t)},expression:"goodsInfo.endTime"}})],1),s("div",{staticClass:"pl"},[s("p",[e._v("商品绑定优加服务：")]),s("el-checkbox-group",{on:{change:e.handleCheckedServesChange},model:{value:e.checkedServes,callback:function(t){e.checkedServes=t},expression:"checkedServes"}},e._l(e.servesList,function(t){return s("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}))],1),e.goodsInfo.ptCashPrePay?s("div",{staticClass:"pl"},[s("p",[e._v("押金垫付设置")]),s("serve-address",{ref:"cashAddress",attrs:{cityCodes:e.ptCashPrePay.cityCodes}}),s("serve-radio",{ref:"cashServesItem",attrs:{item:e.servesItem,serverTimes:e.ptCashPrePay.serverTimes,isEdit:e.hasPtCashPrePayData}}),s("serve-radio",{ref:"cashWaitItem",attrs:{item:e.waitItem,serverTimes:e.ptCashPrePay.waitMonths,isEdit:e.hasPtCashPrePayData}}),s("div",{staticClass:"list"},[s("label",[e._v("沟通确认提示文案：")]),s("el-input",{attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:e.ptCashPrePay.remark,callback:function(t){e.$set(e.ptCashPrePay,"remark",t)},expression:"ptCashPrePay.remark"}})],1),s("div",{staticClass:"filesInput"},[s("p",[e._v("确认携带文件：")]),e._l(e.ptCashPrePay.carryInfoList,function(t,a){return s("el-row",{key:a,staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[s("el-col",{attrs:{span:6}},[s("el-input",{attrs:{width:"200",type:"text",placeholder:"请输入文件名称"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"filesData.name"}})],1),s("el-col",{attrs:{span:10}},[s("el-input",{attrs:{width:"200",type:"text",placeholder:"请输入文件模板地址"},model:{value:t.link,callback:function(s){e.$set(t,"link",s)},expression:"filesData.link"}})],1),0==a?s("el-col",{attrs:{span:6}},[s("el-button",{attrs:{icon:"el-icon-plus"},on:{click:e.addMoreFiles}})],1):e._e()],1)})],2)],1):e._e(),e.goodsInfo.ptPhoneDoctor?s("div",{staticClass:"pl"},[s("p",[e._v("电话医生设置")]),s("serve-address",{ref:"docAddress",attrs:{cityCodes:e.ptPhoneDoctor.cityCodes}}),s("serve-radio",{ref:"docServesItem",attrs:{item:e.servesItem,serverTimes:e.ptPhoneDoctor.serverTimes,isEdit:e.hasPtPhoneDoctorData}}),s("serve-radio",{ref:"singleDurationItem",attrs:{item:e.singleDurationItem,serverTimes:e.ptPhoneDoctor.singleDuration,isEdit:e.hasPtPhoneDoctorData}}),s("serve-radio",{ref:"selfPayItem",attrs:{item:e.selfPayItem,serverTimes:e.ptPhoneDoctor.selfPay,isEdit:e.hasPtPhoneDoctorData}}),s("serve-radio",{ref:"docWaitItem",attrs:{item:e.waitItem,serverTimes:e.ptPhoneDoctor.waitMonths,isEdit:e.hasPtPhoneDoctorData}})],1):e._e(),s("div",{staticClass:"list btn-submit pl"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),s("el-button",{attrs:{type:"primary",plain:""},on:{click:e.back}},[e._v("返回")])],1)])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"list-item"},[s("i",[e._v("所属商品计划：")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"list-item require"},[s("i",[e._v("商品名称：")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"list-item"},[s("i",[e._v("商品简介：")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"list-item require",attrs:{for:""}},[s("i",[e._v("商品生效日期：")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"list-item require",attrs:{for:""}},[s("i",[e._v("商品失效日期：")])])}],i=(s("c5f6"),s("cadf"),s("551c"),s("097d"),s("65b8")),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list"},[s("label",{attrs:{for:""}},[e._v(e._s(e.item.label)+"：")]),s("el-radio",{attrs:{label:"-1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.item.radioText1))]),s("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.item.radioText2))]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.radio,expression:"radio == 1"}]},[s("label",{staticClass:"pl",attrs:{for:""}},[e._v(e._s(e.item.timesText)+"：")]),s("el-input",{staticClass:"width",model:{value:e.times,callback:function(t){e.times=t},expression:"times"}})],1)],1)},n=[],c={name:"serveRadio",props:["item","serverTimes","isEdit"],data:function(){return{radio:"",times:""}},methods:{getData:function(){var e=1==this.radio?this.times:this.radio;return Number(e)}},watch:{isEdit:function(e){e&&(this.radio="-1"==this.serverTimes?String(this.serverTimes):"1",this.times="-1"==this.serverTimes?"":this.serverTimes)}}},d=c,l=(s("421e"),s("2877")),u=Object(l["a"])(d,r,n,!1,null,"167e53d2",null);u.options.__file="serveRadio.vue";var h=u.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"list"},[s("label",[e._v("\n      服务区域：\n    ")]),s("user-address",{ref:"address",attrs:{isDistrict:e.isDistrict}}),s("el-button",{on:{click:e.addAddress}},[e._v("添加")]),s("el-checkbox",{staticClass:"pl",model:{value:e.allCity,callback:function(t){e.allCity=t},expression:"allCity"}},[e._v("全国")])],1),s("div",{staticClass:"list"},e._l(e.addressName,function(t,a){return s("span",{key:a,staticClass:"pl"},[e._v(e._s(t))])}))])},p=[],y=(s("28a5"),{name:"serveAddress",props:{cityCodes:{type:String}},data:function(){return{addressList:[],isDistrict:!1,addressName:[],allCity:"",arr:[]}},components:{UserAddress:i["a"]},methods:{addAddress:function(e){if(this.allCity=!1,this.arr.push(1),this.addressList=this.addressList.concat(this.$refs.address.getData().checkCity),this.$refs.address.getData().checkProvince.length)if(this.$refs.address.getData().checkCity.length){var t=this.$refs.address.getData().checkCity[0].areaName;this.addressName.indexOf(t)>-1?this.$message("您已添加，请勿重复"):(this.addressName.push(this.$refs.address.getData().checkCity[0].areaName),console.log(this.addressName))}else this.$message("请选择区域的市级");else this.$message("请选择区域的省级")},getData:function(){var e="";return e=this.addressName.join(","),e||"-1"}},watch:{allCity:function(e){console.log(e),e&&(this.addressName.length=0,this.addressList.length=0)},cityCodes:function(e){console.log(e),"-1"==e?this.allCity=!0:this.addressName=this.addressName.concat(e.split(","))}}}),m=y,v=(s("21b4"),Object(l["a"])(m,f,p,!1,null,"29f94979",null));v.options.__file="serveAddress.vue";var g=v.exports,P=["押金垫付","电话医生","体检服务","门诊绿通","住院绿通","手术绿通","二次诊疗"],I={label:"服务次数",radioText1:"不限",radioText2:"限制",timesText:"次数"},b={label:"等待期",radioText1:"无",radioText2:"有",timesText:"天数"},C={label:"单次时长",radioText1:"不限",radioText2:"限制",timesText:"时间(分钟)"},_={label:"自费购买",radioText1:"不允许",radioText2:"允许",timesText:"单价(元)"},k={cityCodes:"",serverTimes:"",waitMonths:"",remark:"",filePaths:"",carryInfoList:[{name:"",link:""}]},D={cityCodes:"",serverTimes:"",singleDuration:"",selfPay:"",waitMonths:""},N={id:"",reason:"",name:"",ptGoodsPlanId:"",beginTime:"",endTime:"",remark:"",companyId:"",youBodyCheck:0,youOutpatient:0,youHospital:0,youOperation:0,youSecondMed:0,ptCashPrePay:0,ptPhoneDoctor:0},S=s("b383"),x={name:"addOrEditGoods",data:function(){return{comName:"",companyId:"",goodsName:"",isEdit:"",goodsId:"",goodsPlanList:[],checkedServes:[],servesList:JSON.parse(JSON.stringify(P)),servesItem:JSON.parse(JSON.stringify(I)),waitItem:JSON.parse(JSON.stringify(b)),singleDurationItem:JSON.parse(JSON.stringify(C)),selfPayItem:JSON.parse(JSON.stringify(_)),ptCashPrePay:JSON.parse(JSON.stringify(k)),ptPhoneDoctor:JSON.parse(JSON.stringify(D)),goodsInfo:JSON.parse(JSON.stringify(N)),hasPtCashPrePayData:!1,hasPtPhoneDoctorData:!1}},components:{UserAddress:i["a"],serveRadio:h,serveAddress:g},created:function(){this.init(),this.getGoodsPlan(),this.isEdit&&this.getGoodsInfo()},methods:{addMoreFiles:function(){this.ptCashPrePay.carryInfoList.push({name:"",link:""})},init:function(){var e=this.$route.query;this.companyName=e.companyName,this.companyId=e.companyId,this.goodsId=e.goodsId,this.isEdit="edit"===e.type,this.goodsName=this.isEdit?e.goodsName:"新增商品",this.goodsInfo.companyId=this.companyId,e.goodsId?this.goodsInfo.id=e.goodsId:delete this.goodsInfo.id},getGoodsInfo:function(){var e=this;this.axios.get("/goods/".concat(this.goodsId)).then(function(t){var s=Number(t.data.code);if(200===s){var a=t.data.data;for(var o in console.log(a),N)e.goodsInfo[o]=a[o];e.goodsInfo.beginTime=e.timeFormater(a.beginTime).format("YYYY-MM-DD"),e.goodsInfo.endTime=e.timeFormater(a.endTime).format("YYYY-MM-DD"),a.youCashPrePayId&&(e.setPtCashPrePay(a.youCashPrePayId),e.checkedServes.push("押金垫付")),a.youPhoneDoctorId&&(e.setPtPhoneDoctor(a.youPhoneDoctorId),e.checkedServes.push("电话医生")),e.goodsInfo.youBodyCheck&&e.checkedServes.push("体检服务"),e.goodsInfo.youOutpatient&&e.checkedServes.push("门诊绿通"),e.goodsInfo.youHospital&&e.checkedServes.push("住院绿通"),e.goodsInfo.youOperation&&e.checkedServes.push("手术绿通"),e.goodsInfo.youSecondMed&&e.checkedServes.push("二次诊疗"),console.log(e.goodsInfo)}}).catch(function(e){console.log(e)})},setPtCashPrePay:function(e){var t=this;this.axios.get("/goods/cashPrePay/".concat(e)).then(function(e){var s=Number(e.data.code);200===s&&(t.ptCashPrePay=e.data.data,t.ptCashPrePay.carryInfoList=JSON.parse(t.ptCashPrePay.carryInfoList),console.log(t.ptCashPrePay.carryInfoList),t.ptCashPrePay.carryInfoList&&t.ptCashPrePay.carryInfoList.length||(t.ptCashPrePay.carryInfoList=[{name:"",link:""}]),t.hasPtCashPrePayData=!0,console.log(e.data.data))}).catch(function(e){console.log(e)})},setPtPhoneDoctor:function(){var e=this;this.axios.get("/goods/phoneDoctor/".concat(id)).then(function(t){var s=Number(t.data.code);200===s&&(e.ptPhoneDoctor=t.data.data,e.hasPtPhoneDoctorData=!0,console.log(t.data.data))}).catch(function(e){console.log(e)})},getGoodsPlan:function(){var e=this,t={companyId:this.companyId};this.axios.get("/goodsPlan?"+S.stringify(t)).then(function(t){var s=Number(t.data.code);200===s?e.goodsPlanList=t.data.data:e.$message(e.mes.busy)}).catch(function(t){console.log(t),e.$message(e.mes.busy)})},handleCheckedServesChange:function(e){console.log(e)},getPtCashPrePay:function(){this.ptCashPrePay.cityCodes=this.$refs.cashAddress.getData(),this.ptCashPrePay.serverTimes=this.$refs.cashServesItem.getData(),this.ptCashPrePay.waitMonths=this.$refs.cashWaitItem.getData()},getPtPhoneDoctor:function(){this.ptPhoneDoctor.cityCodes=this.$refs.docAddress.getData(),this.ptPhoneDoctor.serverTimes=this.$refs.docServesItem.getData(),this.ptPhoneDoctor.singleDuration=this.$refs.singleDurationItem.getData(),this.ptPhoneDoctor.selfPay=1===this.$refs.selfPayItem.getData(),this.ptPhoneDoctor.waitMonths=this.$refs.docWaitItem.getData()},getParams:function(){this.goodsInfo.ptCashPrePay?(this.getPtCashPrePay(),this.goodsInfo.ptCashPrePay=this.ptCashPrePay,this.goodsInfo.ptCashPrePay.carryInfoList=JSON.stringify(this.ptCashPrePay.carryInfoList)):delete this.goodsInfo.ptCashPrePay,this.goodsInfo.youCashPrePayId>=0&&delete this.goodsInfo.youCashPrePayId,this.goodsInfo.ptPhoneDoctor?(this.getPtPhoneDoctor(),this.goodsInfo.ptPhoneDoctor=this.ptPhoneDoctor):delete this.goodsInfo.ptPhoneDoctor,this.goodsInfo.youPhoneDoctorId>=0&&delete this.goodsInfo.youPhoneDoctorId,console.log(this.goodsInfo)},update:function(){var e=this;this.axios.put("/goods",this.goodsInfo).then(function(t){var s=Number(t.data.code);200===s?(e.$message(e.mes.success),e.$router.back()):e.$message(e.mes.busy)}).catch(function(t){console.log(t),e.$message(e.mes.busy)})},add:function(){var e=this;delete this.goodsInfo.reason,this.axios.post("/goods",this.goodsInfo).then(function(t){var s=Number(t.data.code);200===s?(e.$message(e.mes.success),e.$router.back()):e.$message(e.mes.busy)}).catch(function(t){console.log(t),e.$message(e.mes.busy)})},submit:function(){this.getParams(),this.isEdit?this.update():this.add()},back:function(){this.$router.back()}},watch:{checkedServes:function(e,t){this.goodsInfo.youBodyCheck=e.indexOf("体检服务")>-1?1:0,this.goodsInfo.youOutpatient=e.indexOf("门诊绿通")>-1?1:0,this.goodsInfo.youHospital=e.indexOf("住院绿通")>-1?1:0,this.goodsInfo.youOperation=e.indexOf("手术绿通")>-1?1:0,this.goodsInfo.youSecondMed=e.indexOf("二次诊疗")>-1?1:0,this.goodsInfo.ptCashPrePay=e.indexOf("押金垫付")>-1?1:0,this.goodsInfo.ptPhoneDoctor=e.indexOf("电话医生")>-1?1:0}}},O=x,T=(s("3ec0"),Object(l["a"])(O,a,o,!1,null,"d105bd54",null));T.options.__file="addOrEditGoods.vue";t["default"]=T.exports},e9a8:function(e,t,s){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-35ebecdf.cea1e2e8.js.map