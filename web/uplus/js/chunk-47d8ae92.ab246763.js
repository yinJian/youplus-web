(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47d8ae92"],{"0e02":function(e,t,r){"use strict";var a=r("154e"),o=r.n(a);o.a},"154e":function(e,t,r){},"3ebc":function(e,t,r){"use strict";r.d(t,"b",function(){return m}),r.d(t,"c",function(){return h}),r.d(t,"i",function(){return p}),r.d(t,"l",function(){return f}),r.d(t,"a",function(){return k}),r.d(t,"f",function(){return l}),r.d(t,"g",function(){return s}),r.d(t,"d",function(){return u}),r.d(t,"e",function(){return c}),r.d(t,"n",function(){return v}),r.d(t,"o",function(){return $}),r.d(t,"p",function(){return y}),r.d(t,"q",function(){return b}),r.d(t,"j",function(){return L}),r.d(t,"h",function(){return F}),r.d(t,"m",function(){return x}),r.d(t,"k",function(){return g});var a=r("2ef0"),o=r.n(a),i=r("7c15");function n(e){return o.a.sortBy(e,function(e){return e.sortId})}function l(e){return i["a"].get("/role").then(function(t){return e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function s(e){return i["a"].get("/user").then(function(t){var r={id:"",name:"全部",roleId:""};return t.data.unshift(r),e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function u(e){return i["a"].get("/company?page=0&size=1000").then(function(t){var r={id:"",name:"全部"};return t.data.list.unshift(r),e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function c(e,t){if(e)return i["a"].get("/goods?companyId=".concat(e,"&page=0&size=1000")).then(function(e){return t&&t(e.data),e.data}).catch(function(e){console.log(e)}),[]}function d(e){var t={dKey:"",id:"",dValue:"全部"};return e.unshift(t),e}var m=n(JSON.parse(sessionStorage.departmentList)),h=n(JSON.parse(sessionStorage.doctorTitleList)),p=n(JSON.parse(sessionStorage.hosLevelList)),f=n(JSON.parse(sessionStorage.propertyList)),v=n(JSON.parse(sessionStorage.skillTagList)),y=n(JSON.parse(sessionStorage.subDepartmentList)),b=n(JSON.parse(sessionStorage.typeList)),g=n(JSON.parse(sessionStorage.paperTypeList)),F=n(JSON.parse(sessionStorage.hopType)),k=JSON.parse(sessionStorage.addressProvince);b=d(b),h=d(h),p=d(p),f=d(f),v=d(v),g=d(g),F=d(F);var x=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],$=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],L=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"65b8":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"address-group"},[r("el-select",{staticClass:"address-input",style:e.seletStyle,attrs:{placeholder:"全部"},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}},e._l(e.provinceList,function(e){return r("el-option",{key:e.id?e.id:1e3*Math.random(),attrs:{label:e.areaName,value:e.id}})})),r("el-select",{staticClass:"address-input",style:e.seletStyle,attrs:{placeholder:"全部"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}},e._l(e.cityList,function(e){return r("el-option",{key:e.id?e.id:1e3*Math.random(),attrs:{label:e.areaName,value:e.id}})})),r("el-select",{directives:[{name:"show",rawName:"v-show",value:e.isDistrict,expression:"isDistrict"}],staticClass:"address-input",style:e.seletStyle,attrs:{placeholder:"全部"},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id?e.id:1e3*Math.random(),attrs:{label:e.areaName,value:e.id}})}))],1)},o=[],i=r("3ebc"),n=r("dd36"),l=!0,s={name:"userAddress",props:{seletStyle:{default:function(){return{}}},defaultValue:{default:function(){return{}},type:Object},isDistrict:{default:!0,type:Boolean}},data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{addressAddAll:function(e){var t={areaCode:"",id:"",parentId:"",areaName:"全部"};return e.unshift(t),e},handleProvince:function(){var e=JSON.parse(JSON.stringify(i["a"]));this.provinceList=this.addressAddAll(e)},handleData:function(e,t,r){var a=this;e&&Object(n["a"])("area",{parentId:e}).then(function(e){if(e.data.code=a.ok){var o=e.data.data;return o=a.addressAddAll(o),r&&r(o),"province"===t?a.cityList=o:a.countryList=o}a.$message("系统繁忙，请稍后再试")}).catch(function(e){console.log(e),a.$message("系统繁忙，请稍后再试!")})},getData:function(){var e=this,t=this.provinceList.filter(function(t){return e.province===t.id}),r=this.cityList.filter(function(t){return e.city===t.id}),a=this.countryList.filter(function(t){return e.country===t.id}),o=t.length>0?t[0].areaCode:"",i=r.length>0?r[0].areaCode:"",n=a.length>0?a[0].areaCode:"",l={province:o,city:i,country:n,checkProvince:t,checkCity:r,checkCountry:a};return l}},watch:{defaultValue:function(){var e=this;if(this.defaultValue){var t=this.defaultValue,r=t.province,a=t.city,o=t.country;if(l=!1,!r)return l=!0;var i=this.lodash.filter(this.provinceList,function(e){return e.areaCode==r});this.province=i[0].id,Object(n["a"])("area",{parentId:this.province}).then(function(t){if(t.data.code=e.ok){if(e.cityList=t.data.data,!a)return l=!0;var r=e.lodash.filter(e.cityList,function(e){return e.areaCode==a});e.city=r[0].id,Object(n["a"])("area",{parentId:e.city}).then(function(t){if(t.data.code=e.ok){if(e.countryList=t.data.data,!o)return l=!0;var r=e.lodash.filter(e.countryList,function(e){return e.areaCode==o});e.country=r[0].id,l=!0}})}})}},province:function(e,t){l&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(e,"province"),this.$emit("countryChange",this.getData()))},city:function(e,t){l&&(this.countryList=[],this.country="",this.handleData(e,"city"),this.$emit("countryChange",this.getData()))},country:function(e,t){this.$emit("countryChange",this.getData())}}},u=s,c=(r("0e02"),r("2877")),d=Object(c["a"])(u,a,o,!1,null,"498b59aa",null);d.options.__file="address.vue";t["a"]=d.exports},7331:function(e,t,r){"use strict";var a=r("89d7"),o=r.n(a);o.a},"89d7":function(e,t,r){},d48e:function(e,t,r){"use strict";t["a"]={methods:{check:function(e,t){var r=this;return new Promise(function(a,o){r.lodash.some(t,function(t){e[t]||r.lodash.isBoolean(e[t])||0==e[t]||o()}),a()})}},tips:{checkTip:"请补全信息后提交"}}},fed1:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("div",{staticClass:"box"},[r("h3",[e._v(e._s(e.activeheader))]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"医院名称",prop:"name"}},[r("el-input",{staticStyle:{width:"216px"},attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"医院别名",prop:"otherName"}},[r("el-input",{staticStyle:{width:"420px"},attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.otherName,callback:function(t){e.$set(e.ruleForm,"otherName",t)},expression:"ruleForm.otherName"}}),e._v(" （多个别名请用英文逗号分隔）\n      ")],1),r("el-form-item",{attrs:{label:"医院类型",prop:"type"}},[r("el-select",{staticStyle:{width:"216px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.hopType,function(e){return r("el-option",{key:e.id,attrs:{label:e.dValue,value:e.dKey}})}))],1),r("el-form-item",{attrs:{label:"医院等级",prop:"level"}},[r("el-select",{staticStyle:{width:"216px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.level,callback:function(t){e.$set(e.ruleForm,"level",t)},expression:"ruleForm.level"}},e._l(e.hosLevelList,function(e){return r("el-option",{key:e.id,attrs:{label:e.dValue,value:e.dKey}})}))],1),r("el-form-item",{attrs:{label:"所在地区",prop:"province"}},[r("user-address",{ref:"hosAddAddress",attrs:{defaultValue:e.defaultAddress,seletStyle:"width:216px"},on:{countryChange:e.getArea}})],1),r("el-form-item",{attrs:{label:"结算周期",prop:"zhouqi"}},[r("el-select",{attrs:{placeholder:"请选择结算周期"},model:{value:e.ruleForm.zhouqi,callback:function(t){e.$set(e.ruleForm,"zhouqi",t)},expression:"ruleForm.zhouqi"}},e._l(e.zhouqiList,function(e){return r("el-option",{attrs:{label:e.label,value:e.value}})}))],1),r("el-form-item",{attrs:{label:"对公转账",prop:"publicTrans"}},[r("el-radio-group",{model:{value:e.ruleForm.publicTrans,callback:function(t){e.$set(e.ruleForm,"publicTrans",t)},expression:"ruleForm.publicTrans"}},[r("el-radio",{attrs:{label:"0"}},[e._v("是")]),r("el-radio",{attrs:{label:"1"}},[e._v("否")])],1)],1),r("el-form-item",{attrs:{label:"开户银行",prop:"bank"}},[r("el-input",{staticStyle:{width:"216px"},attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.bank,callback:function(t){e.$set(e.ruleForm,"bank",t)},expression:"ruleForm.bank"}})],1),r("el-form-item",{attrs:{label:"银行账号",prop:"bankCardNum"}},[r("el-input",{staticStyle:{width:"216px"},attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.bankCardNum,callback:function(t){e.$set(e.ruleForm,"bankCardNum",t)},expression:"ruleForm.bankCardNum"}})],1),r("el-form-item",{attrs:{label:"医院电话",prop:"phone"}},[r("el-input",{staticClass:"input-width",staticStyle:{width:"216px"},attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),r("el-form-item",{attrs:{label:"医院地址",prop:"address"}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),r("el-form-item",{attrs:{label:"医院简介",prop:"info"}},[r("el-input",{attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:e.ruleForm.info,callback:function(t){e.$set(e.ruleForm,"info",t)},expression:"ruleForm.info"}})],1),r("el-form-item",{attrs:{label:"社保医院",prop:"shebao"}},[r("el-checkbox",{attrs:{label:"true"},model:{value:e.ruleForm.shebao,callback:function(t){e.$set(e.ruleForm,"shebao",t)},expression:"ruleForm.shebao"}},[e._v("社保医院")]),r("el-checkbox",{attrs:{label:"true"},model:{value:e.ruleForm.zhifu,callback:function(t){e.$set(e.ruleForm,"zhifu",t)},expression:"ruleForm.zhifu"}},[e._v("直付医院")]),r("el-checkbox",{attrs:{label:"true"},model:{value:e.ruleForm.mianya,callback:function(t){e.$set(e.ruleForm,"mianya",t)},expression:"ruleForm.mianya"}},[e._v("住院免押金")]),r("el-checkbox",{attrs:{label:"true"},model:{value:e.ruleForm.register,callback:function(t){e.$set(e.ruleForm,"register",t)},expression:"ruleForm.register"}},[e._v("注册")]),r("el-checkbox",{attrs:{label:"true"},model:{value:e.ruleForm.authentication,callback:function(t){e.$set(e.ruleForm,"authentication",t)},expression:"ruleForm.authentication"}},[e._v("认证")]),r("el-checkbox",{attrs:{label:"true"},model:{value:e.ruleForm.choose,callback:function(t){e.$set(e.ruleForm,"choose",t)},expression:"ruleForm.choose"}},[e._v("优选")])],1),r("el-form-item",{attrs:{label:"备注信息",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),r("el-button",{on:{click:e.cancle}},[e._v("取消")])],1)],1)],1)])},o=[],i=(r("cadf"),r("551c"),r("097d"),r("d48e")),n=r("3ebc"),l=r("65b8"),s=["新增医院","修改医院"],u={name:"hosAdd",data:function(){return{ruleForm:{name:"",otherName:"",type:"",level:"",phone:"",address:"",remark:"",info:"",shebao:!1,province:"",city:"",country:"",zhouqi:"",zhifu:!1,mianya:!1,publicTrans:!1,bank:"",bankCardNum:"",register:!1,authentication:!1,choose:!1},defaultAddress:null,loading:!1,activeheader:s[0],check:i["a"].methods.check,checkTip:i["a"].tips.checkTip,hopType:n["h"],hosLevelList:n["i"],zhouqiList:[{value:1,label:"月结"},{value:2,label:"七天结"},{value:3,label:"出院结"}],rules:{name:[{required:!0,message:"请输入医院名称",trigger:"blur"}],type:[{required:!0,message:"请选择医院类型",trigger:"change"}],level:[{required:!0,message:"请选择医院等级",trigger:"change"}],province:[{required:!0,message:"请选择所在地区",trigger:"change"}]}}},components:{UserAddress:l["a"]},mounted:function(){this.editInit()},methods:{getArea:function(){var e=this.$refs.hosAddAddress.getData();this.ruleForm.province=e.province,this.ruleForm.city=e.city,this.ruleForm.country=e.country},editInit:function(){var e=this,t=this.$route.query,r=t.type,a=t.id;"edit"===r&&(this.activeheader=s[1]),a&&(this.loading=!0,this.api.get("/hospital/".concat(a)).then(function(t){e.ruleForm=t.data,e.defaultAddress={province:e.ruleForm.province,city:e.ruleForm.city,country:e.ruleForm.country},e.loading=!1,1==e.ruleForm.publicTrans?e.ruleForm.publicTrans="0":e.ruleForm.publicTrans="1"}).catch(function(t){console.log(t),e.loading=!1,e.$message(t.data.message)}))},submit:function(){var e=this;"0"==this.ruleForm.publicTrans?this.ruleForm.publicTrans=!0:this.ruleForm.publicTrans=!1;var t=this.$refs.hosAddAddress.getData();this.ruleForm.province=t.province,this.ruleForm.city=t.city,this.ruleForm.country=t.country,delete this.ruleForm.operatorId,delete this.ruleForm.createTime,delete this.ruleForm.updateTime,delete this.ruleForm.deleteFlag,delete this.ruleForm.handler,delete this.ruleForm.hibernateLazyInitializer,this.$refs["ruleForm"].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.addUser(e.ruleForm)})},editUser:function(e){var t=this;e.id=this.ruleForm.id,this.loading=!0,this.api.put("/hospital",e,"form").then(function(e){t.loading=!1,t.$router.go(-1)}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)})},addUser:function(e){var t=this;if("edit"===this.$route.query.type)return this.editUser(e);this.loading=!0,this.api.post("/hospital",e,"form").then(function(e){t.$message("添加医院成功！"),t.$router.go(-1),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)})},cancle:function(){this.$router.go(-1)}}},c=u,d=(r("7331"),r("2877")),m=Object(d["a"])(c,a,o,!1,null,"d1fcfd4e",null);m.options.__file="hosAdd.vue";t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-47d8ae92.ab246763.js.map