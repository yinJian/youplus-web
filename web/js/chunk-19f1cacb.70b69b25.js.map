{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./src/data/menu.js","webpack:///./src/views/systemManage/systemRole/controls/roleNew.vue?dba2","webpack:///src/views/systemManage/systemRole/controls/roleNew.vue","webpack:///./src/views/systemManage/systemRole/controls/roleNew.vue?1486","webpack:///./src/views/systemManage/systemRole/controls/roleNew.vue","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./src/views/systemManage/systemRole/controls/roleNew.vue?3e7a","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/utils/check.js"],"names":["$export","__webpack_require__","context","INCLUDES","P","F","includes","searchString","this","indexOf","arguments","length","undefined","menuData","label","url","children","id","ul","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","model","value","callback","$$v","name","expression","companyCheck","_l","company","key","_s","hosNet","userManage","wordBook","system","directives","rawName","delMsg","state","type","on","click","submit","cancle","staticRenderFns","requireArray","roleNewvue_type_script_lang_js_","data","companyMange","hosNetworkList","userManageList","wordBookList","systemList","check","methods","checkTip","tips","mounted","editInit","_this","_this$$route$query","$route","query","loading","api","get","concat","then","res","dataInit","catch","err","console","log","$message","message","_this2","_data$role","role","toString","menuDatas","JSON","parse","stringify","menu","lodash","map","menus","item","filter","child","_this3","datas","arryData","checkList","push","param","menuIds","addUser","editUser","_this4","put","$router","go","_this5","post","controls_roleNewvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","MATCH","module","exports","KEY","re","e","f","$includes","el","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_roleNew_vue_vue_type_style_index_0_id_16756fa9_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_roleNew_vue_vue_type_style_index_0_id_16756fa9_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","isObject","cof","it","isRegExp","defined","that","NAME","TypeError","String","obj","requireArr","Promise","resolve","reject","some","isBoolean"],"mappings":"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","file":"js/chunk-19f1cacb.70b69b25.js","sourcesContent":["// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","const menuData = [\n  {\n    label: '企业管理',\n    url: '/comManage',\n    children: [\n      {\n        label: '企业列表',\n        url: '/comManage/comList',\n        id: '11'\n      },\n      {\n        label: '信息复核',\n        url: '/comManage/infoRecheck',\n        id: '12'\n      }\n    ]\n  },\n  {\n    label: '医疗网络',\n    ul: '/hosNetwork',\n    children: [\n      {\n        label: '医院管理',\n        url: '/hosNetwork/hospital',\n        id: '21'\n      },\n      {\n        label: '医生管理',\n        url: '/hosNetwork/doctor',\n        id: '22'\n      },\n      {\n        label: '体检管理',\n        url: '/hosNetwork/phyExamination',\n        id: '23'\n      },\n      {\n        label: '中医管理',\n        url: '/hosNetwork/chMedicine',\n        id: '24'\n      },\n      {\n        label: '齿科管理',\n        url: '/hosNetwork/dentistry',\n        id: '25'\n      }\n    ]\n  },\n  {\n    label: '用户管理',\n    ul: '/userManage',\n    children: [\n      {\n        label: '用户列表',\n        url: '/userManage/userList',\n        id: '31'\n      },\n      {\n        label: '驻场人员',\n        url: '/userManage/userFiled',\n        id: '32'\n      }\n    ]\n  },\n  {\n    label: '数据字典',\n    children: [\n      {\n        label: '地区管理',\n        url: '/wordBook/region',\n        id: '41'\n      },\n      {\n        label: '科室管理',\n        url: '/wordBook/department',\n        id: '42'\n      },\n      {\n        label: '医院等级',\n        url: '/wordBook/hosLevel',\n        id: '43'\n      },\n      {\n        label: '医生职称',\n        url: '/wordBook/doctorTitle',\n        id: '44'\n      }\n    ]\n  },\n  {\n    label: '系统管理',\n    children: [\n      {\n        label: '用户管理',\n        url: '/systemManage/user',\n        id: '51'\n      },\n      {\n        label: '角色管理',\n        url: '/systemManage/role',\n        id: '52'\n      }\n    ]\n  }\n]\n\nexport default menuData\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"role-new\"},[_c('div',{staticClass:\"list\"},[_c('span',[_vm._v(\"角色姓名：\")]),_c('el-input',{staticClass:\"com-input\",attrs:{\"placeholder\":\"请输入角色姓名\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('div',{staticClass:\"list manage\"},[_c('span',[_vm._v(\"权限管理：\")]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"企业管理\")]),_c('el-checkbox-group',{model:{value:(_vm.companyCheck),callback:function ($$v) {_vm.companyCheck=$$v},expression:\"companyCheck\"}},_vm._l((_vm.companyMange),function(company){return _c('el-checkbox',{key:company,attrs:{\"label\":company}},[_vm._v(_vm._s(company))])})),_c('div',{staticClass:\"title\"},[_vm._v(\"医疗网络\")]),_c('el-checkbox-group',{model:{value:(_vm.companyCheck),callback:function ($$v) {_vm.companyCheck=$$v},expression:\"companyCheck\"}},_vm._l((_vm.hosNetworkList),function(hosNet){return _c('el-checkbox',{key:hosNet,attrs:{\"label\":hosNet}},[_vm._v(_vm._s(hosNet))])})),_c('div',{staticClass:\"title\"},[_vm._v(\"用户管理\")]),_c('el-checkbox-group',{model:{value:(_vm.companyCheck),callback:function ($$v) {_vm.companyCheck=$$v},expression:\"companyCheck\"}},_vm._l((_vm.userManageList),function(userManage){return _c('el-checkbox',{key:userManage,attrs:{\"label\":userManage}},[_vm._v(_vm._s(userManage))])})),_c('div',{staticClass:\"title\"},[_vm._v(\"数据字典\")]),_c('el-checkbox-group',{model:{value:(_vm.companyCheck),callback:function ($$v) {_vm.companyCheck=$$v},expression:\"companyCheck\"}},_vm._l((_vm.wordBookList),function(wordBook){return _c('el-checkbox',{key:wordBook,attrs:{\"label\":wordBook}},[_vm._v(_vm._s(wordBook))])})),_c('div',{staticClass:\"title\"},[_vm._v(\"系统管理\")]),_c('el-checkbox-group',{model:{value:(_vm.companyCheck),callback:function ($$v) {_vm.companyCheck=$$v},expression:\"companyCheck\"}},_vm._l((_vm.systemList),function(system){return _c('el-checkbox',{key:system,attrs:{\"label\":system}},[_vm._v(_vm._s(system))])}))],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticClass:\"list\"},[_c('span',[_vm._v(\"允许删除：\")]),_c('el-radio-group',{model:{value:(_vm.delMsg),callback:function ($$v) {_vm.delMsg=$$v},expression:\"delMsg\"}},[_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":6}},[_vm._v(\"否\")])],1)],1),_c('div',{staticClass:\"list\"},[_c('span',[_vm._v(\"角色状态：\")]),_c('el-radio-group',{model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"启用\")]),_c('el-radio',{attrs:{\"label\":\"-1\"}},[_vm._v(\"停用\")])],1)],1),_c('div',{staticClass:\"list submit\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.cancle}},[_vm._v(\"取消\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"role-new\">\n    <div class=\"list\">\n      <span>角色姓名：</span>\n      <el-input class=\"com-input\" placeholder=\"请输入角色姓名\" v-model=\"name\" />\n    </div>\n    <div class=\"list manage\">\n      <span>权限管理：</span>\n      <div class=\"right\">\n        <div class=\"title\">企业管理</div>\n        <el-checkbox-group v-model=\"companyCheck\">\n            <el-checkbox v-for=\"company in companyMange\" :label=\"company\" :key=\"company\">{{company}}</el-checkbox>\n        </el-checkbox-group>\n\n        <div class=\"title\">医疗网络</div>\n        <el-checkbox-group v-model=\"companyCheck\">\n            <el-checkbox v-for=\"hosNet in hosNetworkList\" :label=\"hosNet\" :key=\"hosNet\">{{hosNet}}</el-checkbox>\n        </el-checkbox-group>\n\n        <div class=\"title\">用户管理</div>\n        <el-checkbox-group v-model=\"companyCheck\">\n            <el-checkbox v-for=\"userManage in userManageList\" :label=\"userManage\" :key=\"userManage\">{{userManage}}</el-checkbox>\n        </el-checkbox-group>\n\n        <div class=\"title\">数据字典</div>\n        <el-checkbox-group v-model=\"companyCheck\">\n            <el-checkbox v-for=\"wordBook in wordBookList\" :label=\"wordBook\" :key=\"wordBook\">{{wordBook}}</el-checkbox>\n        </el-checkbox-group>\n\n        <div class=\"title\">系统管理</div>\n        <el-checkbox-group v-model=\"companyCheck\">\n            <el-checkbox v-for=\"system in systemList\" :label=\"system\" :key=\"system\">{{system}}</el-checkbox>\n        </el-checkbox-group>\n      </div>\n    </div>\n    <div class=\"list\" v-show=\"false\">\n      <span>允许删除：</span>\n      <el-radio-group v-model=\"delMsg\">\n        <el-radio :label=\"3\">是</el-radio>\n        <el-radio :label=\"6\">否</el-radio>\n      </el-radio-group>\n    </div>\n    <div class=\"list\">\n      <span>角色状态：</span>\n      <el-radio-group v-model=\"state\">\n        <el-radio label = '0'>启用</el-radio>\n        <el-radio label = '-1'>停用</el-radio>\n      </el-radio-group>\n    </div>\n    <div class=\"list submit\">\n      <el-button type=\"primary\" @click=\"submit\">提交</el-button>\n      <el-button @click=\"cancle\">取消</el-button>\n    </div>\n  </div>\n</template>\n<script>\nimport check from \"utils/check\";\nimport menuData from \"data/menu\";\nlet requireArray = [\"name\",\"state\",\"menuIds\"]; //必传字段\nexport default {\n  name: \"roleNew\",\n  data() {\n    return {\n      name: \"\",\n      delMsg: \"\",\n      state: \"0\",\n      companyCheck: [],\n      companyMange: [\"企业列表\", \"信息复核\"],\n      hosNetworkList: [\"医疗网络\", \"医生管理\", \"体检管理\", \"中医管理\", \"齿科管理\"],\n      userManageList: [\"用户列表\", \"驻场人员\"],\n      wordBookList: [\"地区管理\", \"科室管理\", \"医院等级\", \"医生职称\"],\n      systemList: [\"用户管理\", \"角色管理\"],\n      check: check.methods.check,\n      checkTip: check.tips.checkTip,\n    };\n  },\n  mounted() {\n    this.editInit();\n  },\n  methods: {\n    editInit() {\n      let { type, id } = this.$route.query;\n      if (!id) return;\n      this.loading = true;\n      this.type = type;\n      this.id = id;\n      this.api.get(`/role/${id}`)\n        .then(res => {\n          //查询产品详情\n          this.dataInit(res.data);\n          this.loading = false;\n        })\n        .catch(err => {\n          console.log(err);\n          this.loading = false;\n          this.$message(err.data.message);\n        });\n    },\n    dataInit(data) {\n      data = data || {};\n      let { name, state } = data.role;\n      this.name = name;\n      this.state = state.toString();\n      let menuDatas = JSON.parse(JSON.stringify(menuData));\n      this.companyCheck = this.lodash.map(data.menus, item => {\n        let name = '';\n        this.lodash.map(menuDatas, menu => {\n            this.lodash.filter(menu.children, child => {\n              if(child.id == item) name = child.label;\n            })\n        })\n        return name;\n      })\n    },\n    submit() {\n      let datas = JSON.parse(JSON.stringify(menuData));\n      let arryData = [];\n      let checkList = [].concat(this.companyCheck)\n      if(checkList.length < 1) return this.$message('请补全信息后提交');\n      datas = this.lodash.filter(datas, item => {\n          item.children = this.lodash.filter(item.children, child => {\n              return this.lodash.includes(checkList, child.label)\n          })\n          return item.children.length > 0;\n      })\n      this.lodash.map(datas, item => {\n          this.lodash.map(item.children, child => {\n              arryData.push(child.id)\n              return child;\n          })\n          return item;\n      })\n      let param = {\n          name: this.name,\n          state: this.state,\n          menuIds: arryData,\n      }\n      this.check(param, requireArray).then(()=>{\n        this.addUser(param)\n      },()=>{\n        this.$message(this.checkTip)\n      }).catch((err) => {\n        console.log(err)\n        this.$message(err.data.message)\n      })\n    },\n    editUser(param) {\n      //修改用户\n      param.id = this.id;\n      this.loading = true;\n      this.api.put(\"/role\", param)\n        .then(res => {\n          this.loading = false;\n          this.$router.go(-1);\n        })\n        .catch(err => {\n          console.log(err);\n          this.loading = false;\n          this.$message(err.data.message);\n        });\n    },\n    addUser(param) {\n      //添加用户\n      if (this.$route.query.type === \"edit\") return this.editUser(param);\n      this.loading = true;\n      this.api.post(\"/role\", param)\n        .then(res => {\n          this.$router.go(-1);\n          this.loading = false;\n        })\n        .catch(err => {\n          console.log(err);\n          this.loading = false;\n          this.$message(err.data.message);\n        });\n    },\n    cancle() {\n      this.$router.go(-1);\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.role-new {\n  padding-left: 20px;\n  .el-input {\n    width: 300px;\n  }\n  .el-radio,\n  .el-checkbox {\n    height: 40px;\n    line-height: 40px;\n  }\n  .list {\n    display: flex;\n    height: 40px;\n    line-height: 40px;\n    margin-bottom: 20px;\n    span {\n      display: inline-block;\n      height: 40px;\n      line-height: 40px;\n    }\n    .list-text {\n      display: inline-block;\n      font-size: 12px;\n      margin-left: 40px;\n      margin-top: 1px;\n      color: gray;\n    }\n    &.manage {\n      height: inherit;\n      line-height: inherit;\n      .title {\n        height: 40px;\n        line-height: 40px;\n        font-weight: 600;\n      }\n    }\n    &.submit {\n      display: inline-block;\n      text-indent: 5em;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleNew.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleNew.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roleNew.vue?vue&type=template&id=16756fa9&scoped=true&\"\nimport script from \"./roleNew.vue?vue&type=script&lang=js&\"\nexport * from \"./roleNew.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roleNew.vue?vue&type=style&index=0&id=16756fa9&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16756fa9\",\n  null\n  \n)\n\ncomponent.options.__file = \"roleNew.vue\"\nexport default component.exports","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleNew.vue?vue&type=style&index=0&id=16756fa9&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roleNew.vue?vue&type=style&index=0&id=16756fa9&lang=less&scoped=true&\"","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","export default{\n  methods: {\n    // 对象的非空校验\n    check: function check(obj, requireArr) {\n      return new Promise((resolve, reject) => {\n        this.lodash.some(requireArr, (item) => {\n          if (!obj[item] && !this.lodash.isBoolean(obj[item])) reject();\n        })\n        resolve();\n      })\n    }\n  },\n  tips: {\n    checkTip: '请补全信息后提交'\n  }\n}"],"sourceRoot":""}