(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-497cc78f"],{"09fb":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"addUser"},[i("div",{staticClass:"list"},[e._m(0),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.companyId,callback:function(t){e.companyId=t},expression:"companyId"}},e._l(e.companyList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),i("div",{staticClass:"list"},[e._m(1),i("el-select",{attrs:{placeholder:"请选择所属商品",disabled:!e.companyId},model:{value:e.ptGoodsId,callback:function(t){e.ptGoodsId=t},expression:"ptGoodsId"}},e._l(e.goodsList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e.goodsList.length<1?i("span",{staticClass:"red"},[e._v(e._s(e.goodsTip))]):e._e()],1),i("div",{staticClass:"list"},[e._m(2),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人姓名"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),i("div",{staticClass:"list"},[e._m(3),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},e._l(e.sexList,function(e){return i("el-option",{key:e.id,attrs:{label:e.dValue,value:e.dKey}})}))],1),i("div",{staticClass:"list"},[e._m(4),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.paperType,callback:function(t){e.paperType=t},expression:"paperType"}},e._l(e.paperTypeList,function(e){return i("el-option",{key:e.id,attrs:{label:e.dValue,value:e.dKey}})}))],1),i("div",{staticClass:"list"},[e._m(5),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人证件号码"},model:{value:e.paper,callback:function(t){e.paper=t},expression:"paper"}})],1),i("div",{staticClass:"list"},[e._m(6),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人电话号码"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),i("div",{staticClass:"list"},[e._m(7),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入被服务人电子邮件"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),i("div",{staticClass:"list"},[e._m(8),i("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入保单号/服务单号"},model:{value:e.cardNum,callback:function(t){e.cardNum=t},expression:"cardNum"}})],1),i("div",{staticClass:"list"},[e._m(9),i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}})],1),i("div",{staticClass:"list"},[e._m(10),i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),i("div",{staticClass:"list"},[e._m(11),i("el-input",{staticClass:"input-width",attrs:{type:"textarea",rows:2,size:"medium",placeholder:"请输入内容"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),i("div",{staticClass:"list"},[e._m(12),i("div",{staticClass:"list-radio"},[i("el-radio",{attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("正常")]),i("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("中止")]),i("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("终止")]),i("el-radio",{attrs:{label:"3"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("失效")])],1)]),i("div",{staticClass:"list"},[i("label",{staticClass:"list-item"}),i("div",{staticClass:"list-radio"},[i("el-button",{attrs:{size:"medium"},on:{click:e.submit}},[e._v("提交")]),i("el-button",{attrs:{size:"medium"},on:{click:e.cancle}},[e._v("取消")])],1)])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("所属企业：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("所属商品：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人姓名：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人性别：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人证件类型：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人证件号码：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("被服务人电话号码：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item"},[i("i",[e._v("被服务人电子邮件：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item"},[i("i",[e._v("保单号/服务单号：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("生效起期：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item require"},[i("i",[e._v("生效止期：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item textarea-label"},[i("i",[e._v("特别约定：")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"list-item textarea-label"},[i("i",[e._v("保单状态：")])])}],n=i("3ebc"),r=i("d48e"),l=i("fc37"),c=["请先选择所属企业信息","请先新建商品信息"],o=["userName","ptGoodsId","companyId","sex","paperType","paper","mobile","beginTime","endTime"],u={name:"addUser",data:function(){return{companyId:"",companyList:"",ptGoodsId:"",goodsList:[],goodsTip:c[0],userName:"",sex:"",sexList:n["k"],paperType:"",paperTypeList:n["i"],paper:"",mobile:"",email:"",cardNum:"",beginTime:"",endTime:"",remark:"",radio:"0",check:r["a"].methods.check,checkTip:r["a"].tips.checkTip}},mounted:function(){this.editInit()},methods:{editInit:function(){var e=this;Object(n["c"])(function(t){e.companyList=t.list})},submit:function(){var e=this,t=Object(l["a"])(this.beginTime),i=Object(l["a"])(this.endTime),a={userName:this.userName,ptGoodsId:this.ptGoodsId,companyId:this.companyId,sex:this.sex,paperType:this.paperType,paper:this.paper,mobile:this.mobile,cardNum:this.cardNum,remark:this.remark,status:this.status,beginTime:t,endTime:i},s=this.lodash.assign({},a);this.check(s,o).then(function(){e.addUser(s)},function(){e.$message(e.checkTip)}).catch(function(t){console.log(t),e.$message(t.data.message)})},addUser:function(e){var t=this;if("edit"===this.$route.query.type)return this.editUser(e);this.loading=!0,this.api.post("/customer",e).then(function(e){t.$router.go(-1),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)})},cancle:function(){this.$router.go(-1)}},watch:{companyId:function(e,t){var i=this;Object(n["d"])(e,function(e){if(i.ptGoodsId="",i.goodsList=e.list,e.list.length<1)return i.goodsTip=c[1]})}}},d=u,p=(i("9fe5"),i("2877")),m=Object(p["a"])(d,a,s,!1,null,"2ce055cb",null);m.options.__file="addUser.vue";t["default"]=m.exports},"28a5":function(e,t,i){i("214f")("split",2,function(e,t,a){"use strict";var s=i("aae3"),n=a,r=[].push,l="split",c="length",o="lastIndex";if("c"=="abbc"[l](/(b)*/)[1]||4!="test"[l](/(?:)/,-1)[c]||2!="ab"[l](/(?:ab)*/)[c]||4!="."[l](/(.?)(.?)/)[c]||"."[l](/()()/)[c]>1||""[l](/.?/)[c]){var u=void 0===/()??/.exec("")[1];a=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!s(e))return n.call(i,e,t);var a,l,d,p,m,f=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,b=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,v+"g");u||(a=new RegExp("^"+g.source+"$(?!\\s)",v));while(l=g.exec(i)){if(d=l.index+l[0][c],d>h&&(f.push(i.slice(h,l.index)),!u&&l[c]>1&&l[0].replace(a,function(){for(m=1;m<arguments[c]-2;m++)void 0===arguments[m]&&(l[m]=void 0)}),l[c]>1&&l.index<i[c]&&r.apply(f,l.slice(1)),p=l[0][c],h=d,f[c]>=b))break;g[o]===l.index&&g[o]++}return h===i[c]?!p&&g.test("")||f.push(""):f.push(i.slice(h)),f[c]>b?f.slice(0,b):f}}else"0"[l](void 0,0)[c]&&(a=function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)});return[function(i,s){var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n,s):a.call(String(n),i,s)},a]})},"3ebc":function(e,t,i){"use strict";i.d(t,"a",function(){return u}),i.d(t,"b",function(){return d}),i.d(t,"g",function(){return p}),i.d(t,"j",function(){return m}),i.d(t,"e",function(){return l}),i.d(t,"c",function(){return c}),i.d(t,"d",function(){return o}),i.d(t,"l",function(){return f}),i.d(t,"m",function(){return y}),i.d(t,"n",function(){return v}),i.d(t,"o",function(){return h}),i.d(t,"h",function(){return k}),i.d(t,"f",function(){return g}),i.d(t,"k",function(){return _}),i.d(t,"i",function(){return b});var a=i("2ef0"),s=i.n(a),n=i("7c15");function r(e){return s.a.sortBy(e,function(e){return e.sortId})}function l(e){return n["a"].get("/role").then(function(t){return e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function c(e){return n["a"].get("/company?page=0&size=1000").then(function(t){return e&&e(t.data),t.data}).catch(function(e){console.log(e)}),[]}function o(e,t){if(e)return n["a"].get("/goods?companyId=".concat(e,"&page=0&size=1000")).then(function(e){return t&&t(e.data),e.data}).catch(function(e){console.log(e)}),[]}var u=r(JSON.parse(sessionStorage.departmentList)),d=r(JSON.parse(sessionStorage.doctorTitleList)),p=r(JSON.parse(sessionStorage.hosLevelList)),m=r(JSON.parse(sessionStorage.propertyList)),f=r(JSON.parse(sessionStorage.skillTagList)),v=r(JSON.parse(sessionStorage.subDepartmentList)),h=r(JSON.parse(sessionStorage.typeList)),b=r(JSON.parse(sessionStorage.paperTypeList)),g=r(JSON.parse(sessionStorage.hopType)),_=[{id:1,dKey:1,dValue:"男"},{id:0,dKey:0,dValue:"女"}],y=[{id:0,dKey:0,dValue:"启用"},{id:-1,dKey:-1,dValue:"停用"}],k=[{id:"1234560",dKey:!0,dValue:"是"},{id:"1234567",dKey:!1,dValue:"否"}]},"77c7":function(e,t,i){},"9fe5":function(e,t,i){"use strict";var a=i("77c7"),s=i.n(a);s.a},aae3:function(e,t,i){var a=i("d3f4"),s=i("2d95"),n=i("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==s(e))}},d48e:function(e,t,i){"use strict";t["a"]={methods:{check:function(e,t){var i=this;return new Promise(function(a,s){i.lodash.some(t,function(t){e[t]||i.lodash.isBoolean(e[t])||s()}),a()})}},tips:{checkTip:"请补全信息后提交"}}},fc37:function(e,t,i){"use strict";i.d(t,"e",function(){return n}),i.d(t,"a",function(){return r}),i.d(t,"b",function(){return l}),i.d(t,"c",function(){return c}),i.d(t,"d",function(){return o});i("6b54"),i("28a5");var a=i("2ef0"),s=i.n(a);function n(e){if(!e)return"";var t=new Date(e).getFullYear(),i=new Date(e).getMonth(),a=new Date(e).getDate();return i<10&&(i="0"+parseInt(i)),a<10&&(a="0"+parseInt(a)),"".concat(t,"-").concat(i,"-").concat(a)}function r(e){if(!e)return"";var t=e.getFullYear(),i=e.getMonth(),a=e.getDate();return i<10&&(i="0"+parseInt(i)),a<10&&(a="0"+parseInt(a)),"".concat(t,"-").concat(i,"-").concat(a)}function l(e){if(!e)return"";var t=e.getHours(),i=e.getMinutes();return t<10&&(t="0"+parseInt(t)),i<10&&(i="0"+parseInt(i)),"".concat(t,"：").concat(i)}function c(e){return e?s.a.map(e.split("-"),function(e){var t=e.split("：")[0],i=e.split("：")[1],a=(new Date).getFullYear(),s=(new Date).getMonth(),n=(new Date).getDay();return t=t.trim(),i=i.trim(),new Date(a,s,n,t,i)}):""}function o(e,t){e=e||"0",t=t||"code",e=e.toString();var i=[{code:"0",name:"启用"},{code:"-1",name:"停用"}],a=s.a.filter(i,function(i){return i[t]===e})||i;return a}}}]);
//# sourceMappingURL=chunk-497cc78f.f8cfaa07.js.map