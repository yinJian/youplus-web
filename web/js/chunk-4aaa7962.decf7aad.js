(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aaa7962"],{3939:function(t,e,a){},"65b8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"address-group"},[a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}},t._l(t.provinceList,function(t){return a("el-option",{key:t.id,attrs:{label:t.areaName,value:t.id}})})),a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}},t._l(t.cityList,function(t){return a("el-option",{key:t.id,attrs:{label:t.areaName,value:t.id}})})),a("el-select",{staticClass:"address-input",style:t.seletStyle,attrs:{placeholder:"全部"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.countryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.areaName,value:t.id}})}))],1)},s=[],n=a("7622"),c=a("dd36"),o=!0,r={name:"userAddress",props:["seletStyle","defaultValue"],data:function(){return{provinceList:[],cityList:[],countryList:[],province:"",city:"",country:""}},mounted:function(){this.handleProvince()},methods:{handleProvince:function(){this.provinceList=n["a"]},handleData:function(t,e,a){var i=this;t&&Object(c["a"])("area",{parentId:t}).then(function(t){if(t.data.code=i.ok)return a&&a(t.data.data),"province"===e?i.cityList=t.data.data:i.countryList=t.data.data;i.$message("系统繁忙，请稍后再试")}).catch(function(t){console.log(t),i.$message("系统繁忙，请稍后再试!")})},getData:function(){var t={province:this.province,city:this.city,country:this.country};return t}},watch:{defaultValue:function(){var t=this;if(this.defaultValue){var e=this.defaultValue,a=e.province,i=e.city,s=e.country;if(o=!1,!a)return o=!0;var n=this.lodash.filter(this.provinceList,function(t){return t.areaName==a});this.province=n[0].id,Object(c["a"])("area",{parentId:this.province}).then(function(e){if(e.data.code=t.ok){if(t.cityList=e.data.data,!i)return o=!0;var a=t.lodash.filter(t.cityList,function(t){return t.areaName==i});t.city=a[0].id,Object(c["a"])("area",{parentId:t.city}).then(function(e){if(e.data.code=t.ok){if(t.countryList=e.data.data,!s)return o=!0;var a=t.lodash.filter(t.countryList,function(t){return t.areaName==s});t.country=a[0].id,o=!0}})}})}},province:function(t,e){t&&o&&(this.cityList=[],this.countryList=[],this.city="",this.country="",this.handleData(t,"province"))},city:function(t,e){t&&o&&(this.countryList=[],this.country="",this.handleData(t,"city"))}}},l=r,d=(a("a51d"),a("2877")),u=Object(d["a"])(l,i,s,!1,null,"3e286fda",null);u.options.__file="address.vue";e["a"]=u.exports},7622:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=JSON.parse(sessionStorage.addressProvince)},"7f7f":function(t,e,a){var i=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,c="name";c in s||a("9e1e")&&i(s,c,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},a51d:function(t,e,a){"use strict";var i=a("3939"),s=a.n(i);s.a},a7c1:function(t,e,a){},c83b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"box"},[a("h3",[t._v(t._s(t.activeheader))]),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label require"},[t._v("分院名称:")]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label require"},[t._v("所在地区:")]),a("user-address",{ref:"addBranchAddress",attrs:{defaultValue:t.defaultAddress,seletStyle:"width:216px"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label require"},[t._v("分院地址:")]),a("el-input",{staticClass:"input-width address",attrs:{placeholder:"请输入内容"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label"},[t._v("营业时间:")]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.workTime,callback:function(e){t.workTime=e},expression:"workTime"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label require"},[t._v("联系人：")]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.contactPerson,callback:function(e){t.contactPerson=e},expression:"contactPerson"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label"},[t._v("联系电话：")]),a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入内容"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("div",{staticClass:"input-box"},[a("span"),a("label",{staticClass:"label"},[t._v("上线状态：")]),a("el-radio-group",{model:{value:t.radio2,callback:function(e){t.radio2=e},expression:"radio2"}},[a("el-radio",{attrs:{label:3}},[t._v("上线")]),a("el-radio",{attrs:{label:6}},[t._v("下线")])],1)],1),a("div",{staticClass:"input-box box-last"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),a("el-button",{on:{click:t.cancle}},[t._v("取消")])],1)])])},s=[],n=(a("7f7f"),a("65b8")),c=a("d48e"),o=["新增分院","修改分院信息"],r=["physicalId","name","contactPerson","address","province","city","country"],l=["/physicalChild","/chinaMedChild","/dentistryChild"],d={name:"branchAdd",data:function(){return{name:"",address:"",workTime:"",contactPerson:"",phone:"",radio2:3,loading:!1,activeheader:o[0],check:c["a"].methods.check,checkTip:c["a"].tips.checkTip,defaultAddress:null,code:"0",codeId:"",id:""}},mounted:function(){this.editInit()},methods:{editInit:function(){var t=this;if(this.$route.query){var e=this.$route.query,a=e.type,i=e.code,s=e.codeId,n=e.id;if(this.code=i,this.codeId=s,this.id=n,"edit"===a&&(this.activeheader=o[1]),n){this.loading=!0;var c=l[this.code];this.axios.get("".concat(c,"/").concat(n)).then(function(e){e.data.code===t.ok&&t.dataInit(e.data.data),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.data.message)})}}},dataInit:function(t){t=t||{};var e=t,a=e.name,i=e.address,s=e.workTime,n=e.contactPerson,c=e.phone,o=e.province,r=e.city,l=e.country;this.name=a,this.address=i,this.workTime=s,this.contactPerson=n,this.phone=c,this.defaultAddress={province:o,city:r,country:l}},submit:function(){var t=this,e={name:this.name,physicalId:this.codeId,contactPerson:this.contactPerson,address:this.address,workTime:this.workTime,phone:this.phone},a=this.$refs.addBranchAddress.getData(),i=this.lodash.assign({},e,a);this.check(i,r).then(function(){t.addUser(i)},function(){t.$message(t.checkTip)}).catch(function(e){t.$message(e)})},editUser:function(t){var e=this;t.id=this.id,this.axios.put(l[this.code],t).then(function(t){t.data.code===e.ok&&e.$router.go(-1)}).catch(function(t){console.log(t),e.$message(t.data.message)})},addUser:function(t){var e=this;if("edit"===this.$route.query.type)return this.editUser(t);this.axios.post(l[this.code],t).then(function(t){t.data.code===e.ok&&e.$router.go(-1)}).catch(function(t){e.$message(t.data.message)})},cancle:function(){this.$router.go(-1)}},components:{UserAddress:n["a"]}},u=d,h=(a("c934"),a("2877")),p=Object(h["a"])(u,i,s,!1,null,"3f4e53be",null);p.options.__file="branchAdd.vue";e["default"]=p.exports},c934:function(t,e,a){"use strict";var i=a("a7c1"),s=a.n(i);s.a},d48e:function(t,e,a){"use strict";e["a"]={methods:{check:function(t,e){var a=this;return new Promise(function(i,s){a.lodash.some(e,function(e){t[e]||a.lodash.isBoolean(t[e])||s()}),i()})}},tips:{checkTip:"请补全信息后提交"}}}}]);
//# sourceMappingURL=chunk-4aaa7962.decf7aad.js.map